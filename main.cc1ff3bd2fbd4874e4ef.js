/*! For license information please see main.cc1ff3bd2fbd4874e4ef.js.LICENSE.txt */
(()=>{"use strict";var e,t,r,n={5024:(e,t,r)=>{var n,o=r(4519),a=r(6544),i=r(5793),l=r(6540),u=r(5338),s=r(7665),c=r(7375),f=r(3814),p=r(4675),m=r(9828),d=r(8532),h=r(9067),y=r(6990),g=r(2397);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(null,arguments)}const A=function(e){return l.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 465.4 232.3"},e),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"BioChefWhite_svg__a",clipPathUnits:"userSpaceOnUse"},l.createElement("path",{d:"M567 427.6h271v498.6H567Z",clipRule:"evenodd"})),l.createElement("clipPath",{id:"BioChefWhite_svg__b",clipPathUnits:"userSpaceOnUse"},l.createElement("path",{d:"M519.7 646h270.8v498.2H519.7Z",clipRule:"evenodd"})),l.createElement("clipPath",{id:"BioChefWhite_svg__c",clipPathUnits:"userSpaceOnUse"},l.createElement("path",{d:"M519.7 418H840v726.6H519.7z",clipRule:"evenodd"})),l.createElement("clipPath",{id:"BioChefWhite_svg__d",clipPathUnits:"userSpaceOnUse"},l.createElement("path",{d:"M0 0h1562.5v1562.5H0Z",clipRule:"evenodd"})),l.createElement("clipPath",{id:"BioChefWhite_svg__e",clipPathUnits:"userSpaceOnUse"},l.createElement("path",{d:"M1143.2 468.3h328.1v262.5h-328z",clipRule:"evenodd"})))),l.createElement("g",{clipPath:"url(#BioChefWhite_svg__a)",style:{fill:"#fff"},transform:"matrix(.32 0 0 .32 -22.8 -133.8)"},l.createElement("path",{fill:"#0292b7",d:"M585.2 428.2c-14 104.6 92 165 157.9 224.3 75.4 68 122.4 173.1 76.8 273.3 1-95.3-37.8-173.7-106.3-235.1-66.6-59.8-193-157-128.4-262.5",style:{fill:"#fff"}})),l.createElement("g",{clipPath:"url(#BioChefWhite_svg__b)",style:{fill:"#fff"},transform:"matrix(.32 0 0 .32 -22.8 -133.8)"},l.createElement("path",{fill:"#0292b7",d:"M537.5 646.6c-14 104.6 92 165 157.9 224.3 75.4 68 122.4 173.1 76.8 273.3 1-95.3-37.8-173.7-106.3-235.1-66.6-59.8-193-157-128.4-262.5",style:{fill:"#fff"}})),l.createElement("g",{clipPath:"url(#BioChefWhite_svg__c)",style:{fill:"#fff"},transform:"matrix(.32 0 0 .32 -22.8 -133.8)"},l.createElement("path",{fill:"#0292b7",d:"m600 677-69-11.7v23.4zm155.7 218.4 69-11.7v23.4zM614.8 700.3l136.6-11.6V712zm68.2 98.1 136.9-11.6V810zm7.5-32.8-134.3-11.7v23.4zm70 83.1-106-11.7v23.4zm38.1 11.7a17.6 17.6 0 1 1-35.2 0 17.6 17.6 0 0 1 35.2 0m-136.1-67.5a17.2 17.2 0 1 1-34.5 0 17.2 17.2 0 0 1 34.5 0m34.5-65.7a14 14 0 1 1-28 0 14 14 0 0 1 28 0m-92.4-106.7a26.1 26.1 0 1 1-52.3 0 26.1 26.1 0 0 1 52.3 0m44.9-176.1a26.1 26.1 0 1 1-52.3 0 26.1 26.1 0 0 1 52.3 0m4.6 519a26.1 26.1 0 1 1-52.2 0 26.1 26.1 0 0 1 52.2 0m87.3 74.3a17 17 0 1 1-33.9 0 17 17 0 0 1 34 0M696.6 491a13.7 13.7 0 1 1-27.3 0 13.7 13.7 0 0 1 27.3 0",style:{fill:"#fff"}})),l.createElement("g",{clipPath:"url(#BioChefWhite_svg__d)",style:{fill:"#fff"},transform:"matrix(.32 0 0 .32 -22.8 -133.8)"},l.createElement("g",{fontFamily:"OpenSans",fontSize:38.7,fontWeight:800,style:{fill:"#fff"}},l.createElement("path",{d:"M253.8 822.2q0 15.4-6.3 27.6-6.2 12.2-17 20.2-12.7 9.5-27.8 13.5-15 4-38.3 4h-93V674.2H154q25.8 0 37.7 1.7 12 1.7 23.8 7.6 12.1 6.2 18 16.6 6 10.3 6 23.7 0 15.4-8.1 27.3-8.2 11.8-23.1 18.4v1.1q20.9 4.2 33 17.2 12.4 13 12.4 34.4zm-70.5-87.7q0-5.3-2.7-10.6-2.6-5.3-9.3-7.9-6-2.3-15-2.4-9-.3-25.1-.3H126v45.1h8.6q13 0 22.2-.4t14.5-2.9q7.4-3.3 9.7-8.4 2.3-5.3 2.3-12.2m13.5 86.8q0-10.2-4-15.6-3.9-5.6-13.3-8.3-6.5-1.9-17.8-2-11.3-.2-23.6-.2h-12v53.2h4q23.1 0 33.2-.2 10-.1 18.4-3.7 8.6-3.6 11.8-9.4 3.3-6 3.3-13.8m120.9 66.2H266V726.6h51.6zm1.4-183.8h-54.4v-39H319zM526 807.1q0 39.7-23.3 62.6-23 22.8-64.9 22.8-41.8 0-65-22.8-23-22.9-23-62.6 0-40 23.1-62.7 23.4-22.8 65-22.8 42 0 65 23 23 22.8 23 62.5zm-63.5 39.1q5-6.1 7.4-14.7 2.6-8.8 2.6-24 0-14.3-2.6-23.9t-7.2-15.3q-4.5-5.9-11-8.3-6.4-2.4-13.9-2.4-7.4 0-13.3 2-5.7 2-11 8-4.8 5.6-7.6 15.3-2.7 9.8-2.7 24.5 0 13.2 2.4 23 2.4 9.5 7.2 15.4 4.5 5.6 10.8 8.2 6.5 2.5 14.7 2.5 7 0 13.3-2.3 6.4-2.4 10.9-8","aria-label":"Bio",style:{InkscapeFontSpecification:"OpenSans-ExtraBold",fill:"#fff"}}),l.createElement("path",{fill:"#0292b7",d:"M952.6 891.6q-23.8 0-44-7-20-7-34.5-20.9T851.6 829q-7.9-20.7-7.9-48 0-25.3 7.6-46 7.6-20.5 22-35.3 14-14.2 34.4-22 20.7-7.6 45-7.6 13.5 0 24.2 1.5 10.9 1.5 20 3.9 9.7 2.7 17.4 6.2 7.9 3.2 13.7 6.1v51.7h-6.3q-4-3.4-10.1-8.1-6-4.8-13.8-9.4-7.9-4.5-17-7.7-9.2-3.1-19.6-3.1-11.6 0-22.1 3.7-10.5 3.6-19.3 12-8.5 8.2-13.8 21.6-5.1 13.5-5.1 32.7 0 20 5.5 33.5 5.8 13.5 14.4 21.2 8.7 7.9 19.4 11.3 10.8 3.3 21.2 3.3 10 0 19.8-3 9.9-3 18.2-8.1 7-4.2 13-9l10-8h5.6v50.9l-15.3 6.7q-7.3 3.2-15.3 5.5-10.5 3-19.6 4.6-9.2 1.5-25.2 1.5m252.6-4.1h-51.8v-79.8q0-9.7-1-19.3-1-9.8-3.5-14.4-2.8-5.3-8.4-7.7-5.5-2.4-15.4-2.4-7 0-14.3 2.3-7.1 2.3-15.6 7.3v114h-51.6V664.6h51.6v79.8q13.8-10.8 26.4-16.5 12.7-5.7 28.2-5.7 26 0 40.7 15.2t14.7 45.4zm193.4-70.9h-118q1 18.9 14.3 29 13.3 10 39 10 16.4 0 31.7-6 15.3-5.8 24.2-12.5h5.7v41.4q-17.4 7-32.9 10.1-15.5 3.2-34.2 3.2-48.4 0-74.2-21.8t-25.8-62q0-39.8 24.3-63 24.5-23.4 67-23.4 39.3 0 59 20 19.9 19.7 19.9 57zm-51.3-30.2q-.5-16.2-8-24.4-7.6-8.2-23.7-8.2-14.9 0-24.5 7.8-9.6 7.7-10.7 24.8zm178.4-84h-3.8q-3.5-1-9-2.3t-11.8-1.3q-15.2 0-20.6 5.5-5.3 5.4-5.3 21v1.3h39.8v35h-38.1v125.9h-51.6v-126h-22v-34.9h22v-4.4q0-29.5 15.6-44.3 15.8-14.7 47.6-14.7 11.4 0 20.8.8 9.3.8 16.4 2z","aria-label":"Chef",style:{InkscapeFontSpecification:"OpenSans-ExtraBold",fill:"#fff"}}))),l.createElement("g",{clipPath:"url(#BioChefWhite_svg__e)",style:{fill:"#fff"},transform:"matrix(.32 0 0 .32 -22.8 -133.8)"},l.createElement("path",{d:"M1450.6 574.5a234.7 234.7 0 0 0-61.9-70.7c-24.7-19-56.8-35.4-89.4-31a72.6 72.6 0 0 0-44.3 22c-12.5 12.7-16.3 31.6-21.5 49-7.4 5.3-16.1 9-24.5 12a746 746 0 0 1-4.9 1.8c-12.2 4.5-24.9 9.1-35.5 17.7a65 65 0 0 0-23.1 56 64.8 64.8 0 0 0 34.4 49.9 63 63 0 0 0 44.4 4.5l8.6 45 6.5-1.7a280.6 280.6 0 0 1 139.3 0l6.6 1.7 7.6-39.7c20.1.8 40.4-7.5 53.9-22.8 24.6-27.6 21.4-63.6 3.8-93.8zM1375.3 715a292.8 292.8 0 0 0-132.4 0l-9.3-48.5.4.1a54.9 54.9 0 0 0 49.4-16c16.2-1.3 33.8-1.4 52.3 0 14.9 7 30.8 14.1 47.8 13.5h1.6l-9.7 50.9zm72.7-80.2a55.9 55.9 0 0 1-52.6 43l3.2-16.2a51.7 51.7 0 0 0 34-32.9c-17 19.4-42.6 27.9-66.4 18.9-12-4-23.7-11-35.7-16.1a78.5 78.5 0 0 0-25.6-5.6 139.4 139.4 0 0 1 61.2-40.1 108 108 0 0 0-72 31.8c-6.5 6.3-12.3 12.6-18.2 18.2-23.9 25-58.7 22.2-77.7-8.8.5 14 9.3 26.7 21.4 34l2.3 12.1a51.3 51.3 0 0 1-36.2-3.4A51.7 51.7 0 0 1 1158 630a52 52 0 0 1 18.5-44.8c9-7.2 20.1-11.3 31.9-15.6l5-1.8c4-1.5 8.4-3.3 12.8-5.3a41.7 41.7 0 0 1-23.2 21.3c16.8 1.5 30.4-13 37.4-27 10.7-21.5 12.2-48.6 34.8-61.2 34.4-20.3 75.1-2.5 104 20.5 31.2 24.3 78.5 77 68.7 118.8z",style:{fill:"#fff"}})))};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _=function(){var e=(0,p.A)(),t=(0,s.zy)(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.useState)(e.palette.primary.main),2),n=r[0],o=(r[1],function(e){return t.pathname===e}),a=function(e){return{color:"white",textTransform:"none",fontSize:"1rem",marginRight:2,position:"relative","&:after":{content:'""',position:"absolute",bottom:-2,left:0,width:e?"100%":"0%",height:2,backgroundColor:"white",transition:"width 0.3s ease-in-out"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)","&:after":{width:"100%"}}}};return l.createElement(m.A,{position:"static",elevation:0,color:"transparent",sx:{backgroundColor:n}},l.createElement(d.A,null,l.createElement(A,{style:{maxWidth:"75px",marginRight:"15px"}}),l.createElement(h.A,{sx:{flexGrow:1,display:"flex",alignItems:"center"}},l.createElement(y.A,{component:s.N_,to:"/",sx:a(o("/")),startIcon:l.createElement(c.A,null)},"Tools"),l.createElement(y.A,{component:s.N_,to:"/workflow",sx:a(o("/workflow")),startIcon:l.createElement(f.A,null)},"Workflow Builder")),l.createElement(h.A,{sx:{display:"flex",alignItems:"center"}},l.createElement(g.A,{title:"IEETA"},l.createElement("a",{href:"https://www.ieeta.pt/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginRight:26}},l.createElement("img",{src:"/img/logo-ieeta.webp",alt:"IEETA",style:{height:38}}))),l.createElement(g.A,{title:"Universidade de Aveiro"},l.createElement("a",{href:"https://www.ua.pt/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block"}},l.createElement("img",{src:"/img/logo-ua.webp",alt:"Universidade de Aveiro",style:{height:38}}))))))};var x=r(7834),w=r(8239),E=r(4073);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(){T=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==S(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function O(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(S(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:O(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function O(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function F(e){return C.apply(this,arguments)}function C(){var e;return e=T().mark((function e(t){var r,n,o,a,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Attempting to load module for tool: ".concat(t)),n="/gto-wasm-app/wasm/".concat(r=t,"_wrapper.js"),console.log("Script URL: ".concat(n)),e.next=7,I(n);case 7:console.log("Script loaded successfully: ".concat(n)),o="run_".concat(r),console.log("Looking for run function: ".concat(o)),a=5;case 11:if(!(a>0)){e.next=22;break}if("function"!=typeof(i=window[o])){e.next=16;break}return console.log("Run function found for ".concat(t)),e.abrupt("return",i);case 16:return console.log("Run function not found, retrying..."),e.next=19,new Promise((function(e){return setTimeout(e,100)}));case 19:a--,e.next=11;break;case 22:throw console.error("Run function not found for ".concat(t)),new Error("Function ".concat(o," not found on window."));case 26:throw e.prev=26,e.t0=e.catch(0),console.error("Failed to load module for ".concat(t),e.t0),e.t0;case 30:case"end":return e.stop()}}),e,null,[[0,26]])})),C=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,l,"next",e)}function l(e){O(a,n,o,i,l,"throw",e)}i(void 0)}))},C.apply(this,arguments)}function I(e){return new Promise((function(t,r){if(console.log("Attempting to load script: ".concat(e)),document.querySelector('script[src="'.concat(e,'"]')))return console.log("Script already loaded: ".concat(e)),void t();var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){console.log("Script loaded successfully: ".concat(e)),t()},n.onerror=function(){console.error("Failed to load script: ".concat(e)),r(new Error("Failed to load script: ".concat(e)))},document.head.appendChild(n)}))}var k=r(1656),N=r(2048),j=r(538),q=r(2471),P=r(9799),G=r(7211),D=r(2241),M=r(2848),R=r(1543),U=r(4279),$=r(181),z=r.n($);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var W=(0,l.createContext)(),L=function(e){var t=e.children,r=Q((0,l.useState)("UNKNOWN"),2),n=r[0],o=r[1],a=Q((0,l.useState)("UNKNOWN"),2),i=a[0],u=a[1];return l.createElement(W.Provider,{value:{dataType:n,setDataType:o,validateData:function(e,t){var r=e.trim();switch(t){case"FASTA":var n=r.split(/\r?\n/).filter((function(e){return!e.startsWith(">")})),o=r.startsWith(">")&&n.length>0&&n.every((function(e){return/^[ACGTacgtNn]+$/.test(e.trim())}));return o||console.error("FASTA validation failed:",{startsWithGreaterThan:r.startsWith(">"),hasSequenceLines:n.length>0,allSequencesValid:n.every((function(e){return/^[ACGTacgtNn]+$/.test(e.trim())}))}),o;case"Multi-FASTA":var a=r.match(/>[^>\n]+/g);if(a&&a.length>1){var i=r.split(">").slice(1).every((function(e){var t=e.split(/\r?\n/).filter((function(e){return""!==e.trim()}));if(t.length<2)return!1;var r=t.slice(1).join("");return/^[ACGTacgtNn]+$/.test(r.trim())}));return i||console.error("Multi-FASTA validation failed."),i}return!1;case"PackagedFASTQ":var l=r.split(/\r?\n/),u=l.length>0&&l.every((function(e){return(e.match(/\x7F/g)||[]).length>=3&&/\t\d+$/.test(e)}));return u||console.error("PackagedFASTQ validation failed."),u;case"FASTQ":var s=r.split(/\r?\n/),c=r.startsWith("@")&&s.length>=4&&s.length%4==0&&s.every((function(e,t){return t%4==0?e.startsWith("@"):t%4==2?e.startsWith("+"):/^[ACGTacgtNn]+$/.test(e.trim())||/^[!-~]+$/.test(e.trim())}));return c||console.error("FASTQ validation failed."),c;case"POS":var f=r.split(/\r?\n/).every((function(e){return/^\d+(\.\d+)?\s+\d+(\.\d+)?$/.test(e.trim())}));return f||console.error("POS validation failed."),f;case"SVG":var p=r.startsWith("<svg");return p||console.error("SVG validation failed."),p;case"BIN":var m=/^[01\s\r\n]+$/.test(r);return m||console.error("BIN validation failed."),m;case"NUM":var d=/^\d+(\.\d+)?(\s+\d+(\.\d+)?)*/.test(r);return d||console.error("NUM validation failed."),d;case"DNA":var h=/^[ACGTNacgtn\s]+$/.test(r);return h||console.error("DNA validation failed."),h;case"RNA":var y=/^[ACGUacgu\s]+$/.test(r);return y||console.error("RNA validation failed."),y;case"Group":var g=/^[PNUSHpnush\*X]+$/.test(r);return g||console.error("Group validation failed."),g;case"AminoAcids":var v=/^[ACDEFGHIKLMNPQRSTVWYacdefghiklmnpqrstvwy\s]+$/.test(r);return v||console.error("AminoAcids validation failed."),v;case"TEXT":var A=/^[\x20-\x7E\s\r\n]+$/.test(r);return A||console.error("TEXT validation failed: Contains non-printable or non-ASCII characters."),A;default:return console.error("Validation failed: Unrecognized data type."),!1}},inputDataType:i,setInputDataType:u}},t)},Y=r(4855),X=r(1081),H=r(5279);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e){if("object"!=V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var re=(0,l.createContext)(),ne=function(e){var t=e.children,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.useState)([]),2),n=r[0],o=r[1],a=function(e){o(n.map((function(t){return t.id===e?Z(Z({},t),{},{open:!1}):t}))),setTimeout((function(){o((function(t){return t.filter((function(t){return t.id!==e}))}))}),600)};return l.createElement(re.Provider,{value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=(0,H.A)();o((function(n){return[].concat(function(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n),[{id:r,message:e,severity:t,open:!0}])}))}},t,n.map((function(e,t){return l.createElement(Y.A,{key:e.id,open:e.open,autoHideDuration:6e3,onClose:function(){return a(e.id)},anchorOrigin:{vertical:"top",horizontal:"center"},style:{top:"".concat(60*t,"px")}},l.createElement(X.A,{onClose:function(){return a(e.id)},severity:e.severity,sx:{width:"100%"}},e.message))})))};const oe={"Sequence Manipulation":[{name:"fasta_extract",description:"Extracts sequences from a FASTA file.\nInput: FASTA \nOutput: DNA, RNA or AminoAcids"},{name:"fasta_reverse",description:"Reverses the order of a FASTA or Multi-FASTA file format. \nInput: FASTA, Multi-FASTA \nOutput: FASTA, Multi-FASTA"},{name:"fasta_complement",description:"Replaces the ACGT bases with their complements in FASTA or Multi-FASTA file format. \nInput: FASTA, Multi-FASTA \nOutput: FASTA, Multi-FASTA"},{name:"fasta_mutate",description:"Creates a synthetic mutation of a FASTA file. \nInput: FASTA, Multi-FASTA \nOutput: FASTA, Multi-FASTA"},{name:"fasta_rand_extra_chars",description:"Substitutes in the DNA sequence the outside ACGT chars by random ACGT symbols. \nInput: FASTA, Multi-FASTA \nOutput: FASTA, Multi-FASTA"},{name:"fasta_extract_by_read",description:"Extracts sequences from each read in a FASTA or Multi-FASTA file. \nInput: FASTA, Multi-FASTA \nOutput: FASTA, Multi-FASTA"},{name:"fasta_extract_read_by_pattern",description:"Extracts reads from a Multi-FASTA file format given a pattern in the header. \nInput: Multi-FASTA \nOutput: Multi-FASTA"},{name:"fasta_extract_pattern_coords",description:"Extracts the header and coordinates from a Multi-FASTA file format given a pattern/motif in the sequence. \nInput: Multi-FASTA \nOutput: TEXT"},{name:"fasta_split_reads",description:"Splits a Multi-FASTA file to multiple FASTA files. \nInput: Multi-FASTA \nOutput: FASTA"},{name:"fasta_split_streams",description:"Splits and writes a FASTA file into three channels of information: headers, extra and DNA. \nInput: FASTA \nOutput: TEXT"},{name:"fasta_merge_streams",description:"Merges the three channels of information (headers, extra and DNA) and writes it into a FASTA file. \nInput: FASTA \nOutput: TEXT"},{name:"fastq_exclude_n",description:"Discards the FASTQ reads with the minimum number of 'N' symbols. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_extract_quality_scores",description:"Extracts all the quality-scores from FASTQ reads. \nInput: FASTQ \nOutput: TEXT"},{name:"fastq_minimum_quality_score",description:"Discards reads with average quality-score below of the defined. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_minimum_read_size",description:"Filters the FASTQ reads with the length smaller than the value defined. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_maximum_read_size",description:"Filters the FASTQ reads with the length higher than the value defined. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_minimum_local_quality_score_forward",description:"Filters the reads considering the quality score average of a defined window size of bases. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_minimum_local_quality_score_reverse",description:"Filters the reverse reads, considering the quality score average of a defined window size of bases. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_rand_extra_chars",description:"Substitutes in the FASTQ files, the DNA sequence the outside ACGT chars by random ACGT symbols. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_cut",description:"Cuts read sequences in a FASTQ file. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_pack",description:"Packages each FASTQ read in a single line. \nInput: FASTQ \nOutput: PackagedFASTQ"},{name:"fastq_unpack",description:"Unpacks the FASTQ reads packaged using the gto_fastq_pack tool. \nInput: PackagedFASTQ \nOutput: FASTQ"},{name:"fastq_quality_score_info",description:"Analyses the quality-scores of a FASTQ file. \nInput: FASTQ \nOutput: TEXT"},{name:"fastq_quality_score_min",description:"Analyses the minimal quality-scores of a FASTQ file. \nInput: FASTQ \nOutput: TEXT"},{name:"fastq_quality_score_max",description:"Analyses the maximal quality-scores of a FASTQ file. \nInput: FASTQ \nOutput: TEXT"},{name:"fastq_complement",description:"Replaces the ACGT bases with their complements in a FASTQ file format. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_reverse",description:"Reverses the ACGT bases order for each read in a FASTQ file format. \nInput: FASTQ \nOutput: FASTQ"},{name:"fastq_split",description:"Splits Paired End files according to the direction of the strand. \nInput: FASTQ \nOutput: TEXT"},{name:"fastq_mutate",description:"Creates a synthetic mutation of a FASTQ file. \nInput: FASTQ \nOutput: FASTQ"}],"Format Conversion":[{name:"fasta_from_seq",description:"Converts a genomic sequence to pseudo FASTA file format. \nInput: DNA, RNA, AminoAcids \nOutput: FASTA"},{name:"fasta_to_seq",description:"Converts a FASTA or Multi-FASTA file format to a seq. \nInput: FASTA \nOutput: DNA, RNA, AminoAcids"},{name:"fastq_to_fasta",description:"Converts a FASTQ file format to a pseudo FASTA file. \nInput: FASTQ \nOutput: FASTA"},{name:"fastq_to_mfasta",description:"Converts a FASTQ file format to a pseudo Multi-FASTA file. \nInput: FASTQ \nOutput: Multi-FASTA"},{name:"fastq_from_seq",description:"Converts a genomic sequence to pseudo FASTQ file format. \nInput: DNA, RNA, AminoAcids \nOutput: FASTQ"},{name:"amino_acid_from_fasta",description:"Converts DNA sequences in FASTA or Multi-FASTA file format to an amino acid sequence. \nInput: FASTA, Multi-FASTA \nOutput: AminoAcids"},{name:"amino_acid_from_fastq",description:"Converts DNA sequences in the FASTQ file format to an amino acid sequence. \nInput: FASTQ \nOutput: AminoAcids"},{name:"amino_acid_from_seq",description:"Converts DNA sequence to an amino acid sequence. \nInput: DNA \nOutput: AminoAcids"},{name:"amino_acid_to_pseudo_dna",description:"Converts an amino acid (protein) sequence to a pseudo DNA sequence. \nInput: AminoAcids \nOutput: DNA"}],"Genomic Operations":[{name:"genomic_complement",description:"Replaces the ACGT bases with their complements in a DNA sequence. \nInput: DNA \nOutput: DNA"},{name:"genomic_reverse",description:"Reverses the ACGT bases order for each read in a sequence file. \nInput: DNA \nOutput: DNA"},{name:"genomic_extract",description:"Extracts sequences from a sequence file. \nInput: DNA \nOutput: DNA"},{name:"genomic_gen_random_dna",description:"Generates a synthetic DNA. \nOutput: DNA"},{name:"genomic_rand_seq_extra_chars",description:"Substitutes in the DNA sequence the outside ACGT chars by random ACGT symbols. \nInput: DNA \nOutput: DNA"},{name:"genomic_period",description:"Calculates the best order depth of a sequence, using FCMs. \nInput: DNA \nOutput: TEXT"},{name:"genomic_count_bases",description:"Counts the number of bases in sequence, FASTA or FASTQ files. \nInput: DNA, FASTA, FASTQ \nOutput: TEXT"},{name:"genomic_dna_mutate",description:"Creates a synthetic mutation of a sequence file. \nInput: DNA \nOutput: DNA"}],"Amino Acid Operations":[{name:"amino_acid_to_group",description:"Converts an amino acid sequence to a group sequence. \nInput: AminoAcids \nOutput: GROUP"},{name:"amino_acid_to_pseudo_dna",description:"Converts an amino acid (protein) sequence to a pseudo DNA sequence. \nInput: AminoAcids \nOutput: DNA"}],"Information and Analysis":[{name:"fasta_info",description:"Shows the readed information of a FASTA or Multi-FASTA file format. \nInput: FASTA \nOutput: TEXT"},{name:"fastq_info",description:"Analyses the basic information of FASTQ file format. \nInput: FASTQ \nOutput: TEXT"},{name:"info",description:"Gives the basic properties of the file. \nInput: Any \nOutput: TEXT"},{name:"fasta_find_n_pos",description:"Reports the 'N' regions in a sequence or FASTA (seq) file. \nInput: FASTA \nOutput: TEXT"},{name:"comparative_map",description:"Creates a visualization for comparative maps. \nInput: POS \nOutput: SVG"}],"Mathematical Operations":[{name:"lower_bound",description:"Sets an lower bound in a file with a value per line. \nInput: NUM \nOutput: NUM"},{name:"upper_bound",description:"Sets an upper bound in a file with a value per line. \nInput: NUM \nOutput: NUM"},{name:"max",description:"Computes the maximum value in each row between two files. \nInput: NUM \nOutput: NUM"},{name:"min",description:"Computes the minium value in each row between two files. \nInput: NUM \nOutput: NUM"},{name:"sum",description:"Adds decimal values in file, line by line, splitted by spaces or tabs. \nInput: NUM \nOutput: NUM"},{name:"permute_by_blocks",description:"Permutates by block sequence, FASTA and Multi-FASTA files. \nInput: FASTA \nOutput: FASTA"},{name:"real_to_binary_with_threshold",description:"Converts a sequence of real numbers into a binary sequence, given a threshold. \nInput: NUM \nOutput: BIN"}],"Text Processing":[{name:"char_to_line",description:"Splits a sequence into lines, creating an output sequence which has a char for each line. \nInput: DNA, RNA, AminoAcids \nOutput: DNA, RNA, AminoAcids"},{name:"new_line_on_new_x",description:"Splits different rows with a new empty row. \nInput: NUM \nOutput: NUM"},{name:"filter",description:"Filters numerical sequences using a low-pass filter. \nInput: NUM \nOutput: NUM"},{name:"segment",description:"Segments a filtered sequence based on a threshold. \nInput: NUM \nOutput: TEXT"},{name:"word_search",description:"Search for a word in a file. \nInput: TEXT \nOutput: TEXT"},{name:"brute_force_string",description:"Generates all combinations, line by line, for an inputted alphabet and specific size. \nOutput: TEXT"}]};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return(t=function(e){var t=function(e){if("object"!=ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const fe=function(e){var t=e.onToolClick,r=se((0,l.useState)(""),2),n=r[0],o=r[1],a=se((0,l.useState)({}),2),i=a[0],u=a[1],s=((0,l.useContext)(W).dataType,(0,l.useContext)(re),(0,l.useMemo)((function(){return z()((function(e){return o(e)}),300)}),[]));return l.createElement(j.A,{elevation:3,sx:{padding:2,height:"100%",display:"flex",flexDirection:"column",position:"relative"}},l.createElement(E.A,{variant:"h6",align:"center",gutterBottom:!0},"All Tools"),l.createElement(q.A,{label:"Search Operations",variant:"outlined",size:"small",fullWidth:!0,onChange:function(e){s(e.target.value)},sx:{marginBottom:2}}),l.createElement(P.A,{sx:{overflowY:"auto",flexGrow:1}},Object.entries(oe).map((function(e){var r=se(e,2),o=r[0],a=r[1].filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase())}));return 0===a.length&&""!==n?null:l.createElement(l.Fragment,{key:o},l.createElement(G.A,{onClick:function(){return function(e){u((function(t){return le(le({},t),{},ue({},e,!t[e]))}))}(o)}},l.createElement(D.A,{primary:o}),i[o]?l.createElement(k.A,null):l.createElement(N.A,null)),l.createElement(M.A,{in:i[o]||""!==n,timeout:"auto",unmountOnExit:!0},l.createElement(P.A,{component:"div",disablePadding:!0},a.map((function(e){return l.createElement(g.A,{key:e.name,title:l.createElement(l.Fragment,null,e.description.split("\n").map((function(e,t){return l.createElement(E.A,{key:t,variant:"body2",color:"inherit"},e)}))),placement:"right"},l.createElement(G.A,{sx:{pl:4,bgcolor:function(e){return(0,U.X4)(e.palette.primary.main,.2)},"&:hover":{bgcolor:function(e){return(0,U.X4)(e.palette.primary.main,.4)}}},onClick:function(){return t(e)}},l.createElement(D.A,{primary:e.name})))})))),l.createElement(R.A,null))}))))};var pe=r(9104),me=r(5460),de=r(3896),he=r(1641);const ye=JSON.parse('{"Y":[{"name":"gto_fastq_to_fasta","description":"Converts a FASTQ file format to a pseudo FASTA file. It does NOT align the sequence. It extracts the sequence and adds a pseudo header.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqToFasta.c"},{"name":"gto_fastq_to_mfasta","description":"Converts a FASTQ file format to a pseudo Multi-FASTA file. It does NOT align the sequence. It extracts the sequence and adds each header in a Multi-FASTA format.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqToMFasta.c"},{"name":"gto_fastq_exclude_n","description":"Discards the FASTQ reads with the minimum number of \'N\' symbols. If present, it will erase the second header (after +).","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-m","parameter":"max","required":true}],"parameters":[{"name":"max","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqExcludeN.c"},{"name":"gto_fastq_extract_quality_scores","description":"Extracts all the quality-scores from FASTQ reads.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqExtractQS.c"},{"name":"gto_fastq_info","description":"Analyses the basic information of FASTQ file format.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqInfo.c"},{"name":"gto_fastq_maximum_read_size","description":"Filters the FASTQ reads with the length higher than the value defined. If present, it will erase the second header (after +).","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"size","required":true}],"parameters":[{"name":"size","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMaximumReadSize.c"},{"name":"gto_fastq_minimum_quality_score","description":"Discards reads with average quality-score below of the defined.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-m","parameter":"min","required":true}],"parameters":[{"name":"min","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMinimumQualityScore.c"},{"name":"gto_fastq_minimum_read_size","description":"Filters the FASTQ reads with the length smaller than the value defined. If present, it will erase the second header (after +).","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"size","required":true}],"parameters":[{"name":"size","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMinimumReadSize.c"},{"name":"gto_fastq_rand_extra_chars","description":"Substitutes in the FASTQ files, the DNA sequence the outside ACGT chars by random ACGT symbols.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqRandExtraChars.c"},{"name":"gto_fastq_from_seq","description":"Converts a genomic sequence to pseudo FASTQ file format.","input":{"type":"stdin","format":"DNA, RNA, AminoAcids"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-n","parameter":"name","required":false},{"flag":"-l","parameter":"lineSize","required":false}],"parameters":[{"name":"name","type":"string"},{"name":"lineSize","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqFromSeq.c"},{"name":"gto_fastq_mutate","description":"Creates a synthetic mutation of a FASTQ file given specific rates of mutations, deletions and additions.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"seed","required":false},{"flag":"-m","parameter":"mutation-rate","required":false},{"flag":"-d","parameter":"deletion-rate","required":false},{"flag":"-i","parameter":"insertion-rate","required":false},{"flag":"-a","parameter":"ACGTN-alphabet","required":false}],"parameters":[{"name":"seed","type":"integer","maxLength":9},{"name":"mutation-rate","type":"float","min":0,"max":1},{"name":"deletion-rate","type":"float","min":0,"max":1},{"name":"insertion-rate","type":"float","min":0,"max":1}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMutate.c"},{"name":"gto_fastq_split","description":"Splits Paired End files according to the direction of the strand (\'/1\' or \'/2\'). It writes by default singleton reads as forward stands.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"file","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":true,"is_multi_type_output":false,"source":"gto/src/FastqSplit.c"},{"name":"gto_fastq_pack","description":"Packages each FASTQ read in a single line. It can show the read score first or the dna sequence, depending on the execution mode.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"PackagedFASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"scores","required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqPack.c"},{"name":"gto_fastq_unpack","description":"Unpacks the FASTQ reads packaged using the gto_fastq_pack tool.","input":{"type":"stdin","format":"PackagedFASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"scores","required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqUnpack.c"},{"name":"gto_fastq_quality_score_info","description":"Analyses the quality-scores of a FASTQ file.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-m","parameter":"max","required":false}],"parameters":[{"name":"max","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqQualityScoreInfo.c"},{"name":"gto_fastq_quality_score_min","description":"Analyses the minimal quality-scores of a FASTQ file.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-m","parameter":"max","required":false}],"parameters":[{"name":"max","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqQualityScoreMin.c"},{"name":"gto_fastq_quality_score_max","description":"Analyses the maximal quality-scores of a FASTQ file.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-m","parameter":"max","required":false}],"parameters":[{"name":"max","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqQualityScoreMax.c"},{"name":"gto_fastq_cut","description":"Cuts read sequences in a FASTQ file. It requires that the initial and end positions for the cut.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-i","parameter":"initial","required":true},{"flag":"-e","parameter":"end","required":true}],"parameters":[{"name":"initial","type":"integer"},{"name":"end","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqCut.c"},{"name":"gto_fastq_minimum_local_quality_score_forward","description":"Filters the reads considering the quality score average of a defined window size of bases.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-k","parameter":"windowsize","required":false},{"flag":"-w","parameter":"minavg","required":false},{"flag":"-m","parameter":"minqs","required":false}],"parameters":[{"name":"windowsize","type":"integer"},{"name":"minavg","type":"integer"},{"name":"minqs","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMinimumQualityScoreForward.c"},{"name":"gto_fastq_minimum_local_quality_score_reverse","description":"Filters the reverse reads, considering the quality score average of a defined window size of bases.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-k","parameter":"windowsize","required":false},{"flag":"-w","parameter":"minavg","required":false},{"flag":"-m","parameter":"minqs","required":false}],"parameters":[{"name":"windowsize","type":"integer"},{"name":"minavg","type":"integer"},{"name":"minqs","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqMinimumQualityScoreReverse.c"},{"name":"gto_fastq_xs","description":"A skilled FASTQ read simulation tool, flexible, portable (does not need a reference sequence) and tunable in terms of sequence complexity. XS handles Ion Torrent, Roche-454, Illumina and ABI-SOLiD simulation sequencing types. It has several running modes, depending on the time and memory available, and is aimed at testing computing infrastructures, namely cloud computing of large-scale projects, and testing FASTQ compression algorithms. Moreover, XS offers the possibility of simulating the three main FASTQ components individually (headers, DNA sequences and quality-scores). Quality-scores can be simulated using uniform and Gaussian distributions.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":["-h","-v","-t","-hf","-i","-o","-ls","-ld","-n","-f","-rn","-ri","-ra","-rm","-rr","-qt","-qf","-qc","-eh","-eo","-ed","-edb","-es","-s"],"parameters":[{"name":"sequencingType","type":"integer"},{"name":"headerFormat","type":"integer"},{"name":"instrumentName","type":"string"},{"name":"lineSize","type":"integer"},{"name":"minSize","type":"integer"},{"name":"maxSize","type":"integer"},{"name":"numberOfReads","type":"integer"},{"name":"A","type":"float"},{"name":"C","type":"float"},{"name":"G","type":"float"},{"name":"T","type":"float"},{"name":"N","type":"float"},{"name":"numberOfRepeats","type":"integer"},{"name":"repeatsMinSize","type":"integer"},{"name":"repeatsMaxSize","type":"integer"},{"name":"mutationRate","type":"float"},{"name":"assignmentType","type":"integer"},{"name":"statsFile","type":"string"},{"name":"template","type":"string"},{"name":"seed","type":"integer"},{"name":"genFile","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool"},{"name":"gto_fastq_clust_reads","description":"Agroups reads and creates an index file. It cluster reads in therms of Seq k-mer Lexicographical order.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":["-h","-c"],"parameters":[{"name":"ctx","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"Not found in Makefile"},{"name":"gto_fastq_complement","description":"Replaces the ACGT bases with their complements in a FASTQ file format.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqComplement.c"},{"name":"gto_fastq_reverse","description":"Reverses the ACGT bases order for each read in a FASTQ file format.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"FASTQ"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastqReverse.c"},{"name":"gto_fastq_variation_map","description":"Identifies the variation that occurs in the sequences relative to the reads or a set of reads. The (probabilistic) Bloom filter is automatically set.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":["-h","-v","-a","-s","-i","-p","-k"],"parameters":[{"name":"rFile1","type":"string"},{"name":"rFile2","type":"string"},{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"bloom size","type":"integer"},{"name":"k-mer size","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fastq_variation_filter","description":"Filters and segments the regions of singularity from the output of gto_fastq_variation_map.","input":{"type":"stdin","format":"TEXT"},"output":{"type":"stdout","format":"TEXT"},"flags":["-h","-v","-a","-t","-w","-u"],"parameters":[{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"threshold","type":"float"},{"name":"window size","type":"integer"},{"name":"sub-sampling","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fastq_variation_visual","description":"Depicts the regions of singularity using the output from gto_fastq_variation_filter into an SVG image.","input":{"type":"stdin","format":"TEXT"},"output":{"type":"stdout","format":"SVG"},"flags":["-h","-v","-a","-e"],"parameters":[{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"enlarge painted regions","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fastq_metagenomics","description":"An ultra-fast method to infer metagenomic composition of sequenced reads relative to a database. gto_fastq_metagenomics measures similarity between any FASTQ file (or FASTA), independently from the size, against any multi-FASTA database, such as the entire set of complete genomes from the NCBI. gto_fastq_metagenomics supports single reads, paired-end reads, and compositions of both. It has been tested in many platforms, such as Illumina MySeq, HiSeq, Novaseq, IonTorrent. gto_fastq_metagenomics is efficient to detect the presence and authenticate a given species in the FASTQ reads. The core of the method is based on relative data compression. gto_fastq_metagenomics uses variable multi-threading, without multiplying the memory for each thread, being able to run efficiently in a common laptop.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"CSV"},"flags":["-h","-F","-V","-v","-Z","-s","-l","-p","-t","-n","-x","-y"],"parameters":[{"name":"FILE1","type":"string"},{"name":"FILE2","type":"string"},{"name":"FILE","type":"string"},{"name":"level","type":"integer"},{"name":"sample","type":"integer"},{"name":"top","type":"integer"},{"name":"nThreads","type":"integer"},{"name":"similarity top filename","type":"string"},{"name":"profile filename","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool"},{"name":"gto_fasta_to_seq","description":"Converts a FASTA or Multi-FASTA file format to a seq.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"DNA, RNA, AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaToSeq.c"},{"name":"gto_fasta_from_seq","description":"Converts a genomic sequence to pseudo FASTA file format.","input":{"type":"stdin","format":"DNA, RNA, AminoAcids"},"output":{"type":"stdout","format":"FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-n","parameter":"name","required":false},{"flag":"-l","parameter":"lineSize","required":false}],"parameters":[{"name":"name","type":"string"},{"name":"lineSize","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaFromSeq.c"},{"name":"gto_fasta_extract","description":"Extracts sequences from a FASTA file, which the range is defined by the user in the parameters.","input":{"type":"stdin","format":"FASTA"},"output":{"type":"stdout","format":"DNA, RNA, AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-i","parameter":"init","required":false},{"flag":"-e","parameter":"end","required":false}],"parameters":[{"name":"init","type":"integer"},{"name":"end","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaExtract.c"},{"name":"gto_fasta_extract_by_read","description":"Extracts sequences from each read in a Multi-FASTA file (splited by \\\\n), which the range is defined by the user in the parameters.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-i","parameter":"init","required":false},{"flag":"-e","parameter":"end","required":false}],"parameters":[{"name":"init","type":"integer"},{"name":"end","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaExtractByRead.c"},{"name":"gto_fasta_info","description":"Shows the readed information of a FASTA or Multi-FASTA file format.","input":{"type":"stdin","format":"FASTA"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaInfo.c"},{"name":"gto_fasta_mutate","description":"Creates a synthetic mutation of a FASTA file given specific rates of editions, deletions and additions.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"seed","required":false},{"flag":"-e","parameter":"edit-rate","required":false},{"flag":"-d","parameter":"deletion-rate","required":false},{"flag":"-i","parameter":"insertion-rate","required":false},{"flag":"-a","parameter":"ACGTN-alphabet","required":false}],"parameters":[{"name":"seed","type":"integer","maxLength":9},{"name":"edit-rate","type":"float","min":0,"max":1},{"name":"deletion-rate","type":"float","min":0,"max":1},{"name":"insertion-rate","type":"float","min":0,"max":1}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaMutate.c"},{"name":"gto_fasta_rand_extra_chars","description":"Substitutes in the DNA sequence the outside ACGT chars by random ACGT symbols. It works both in FASTA and Multi-FASTA file formats.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaRandExtraChars.c"},{"name":"gto_fasta_extract_read_by_pattern","description":"Extracts reads from a Multi-FASTA file format given a pattern in the header. Also, this pattern is case insensitive.","input":{"type":"stdin","format":"Multi-FASTA"},"output":{"type":"stdout","format":"Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-p","parameter":"pattern","required":true}],"parameters":[{"name":"pattern","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaExtractReadByIdPattern.c"},{"name":"gto_fasta_find_n_pos","description":"Reports the \'N\' regions in a sequence or FASTA (seq) file.","input":{"type":"stdin","format":"FASTA"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaFindNPos.c"},{"name":"gto_fasta_split_reads","description":"Splits a Multi-FASTA file to multiple FASTA files.","input":{"type":"stdin","format":"Multi-FASTA"},"output":{"type":"file","format":"FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":true,"is_multi_type_output":false,"source":"gto/src/FastaSplitReads.c"},{"name":"gto_fasta_rename_human_headers","description":"Changes the headers of FASTA or Multi-FASTA file to simple chrX by order, where X is the number.","input":{"type":"stdin","format":"FASTA"},"output":{"type":"stdout","format":"FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaRenameHumanHeaders.c"},{"name":"gto_fasta_extract_pattern_coords","description":"Extracts the header and coordinates from a Multi-FASTA file format given a pattern/motif in the sequence.","input":{"type":"stdin","format":"Multi-FASTA"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-p","parameter":"pattern","required":true}],"parameters":[{"name":"pattern","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaExtractPatternCoords.c"},{"name":"gto_fasta_complement","description":"Replaces the ACGT bases with their complements in FASTA or Multi-FASTA file format.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaComplement.c"},{"name":"gto_fasta_reverse","description":"Reverses the order of a FASTA or Multi-FASTA file format.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/FastaReverse.c"},{"name":"gto_fasta_variation_map","description":"This tool is an alias to gto_fastq_variation_map tool. Please check the documentation of this tool in the in the section of FASTQ tools.","input":{"type":"stdin","format":"FASTA"},"output":{"type":"stdout","format":"TEXT"},"flags":["-h","-v","-a","-s","-i","-p","-k"],"parameters":[{"name":"rFile1","type":"string"},{"name":"rFile2","type":"string"},{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"bloom size","type":"integer"},{"name":"k-mer size","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fasta_variation_filter","description":"This tool is an alias to gto_fastq_variation_filter tool. Please check the documentation of this tool in the in the section of FASTQ tools.","input":{"type":"stdin","format":"TEXT"},"output":{"type":"stdout","format":"TEXT"},"flags":["-h","-v","-a","-t","-w","-u"],"parameters":[{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"threshold","type":"float"},{"name":"window size","type":"integer"},{"name":"sub-sampling","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fasta_variation_visual","description":"This tool is an alias to gto_fastq_variation_visual tool. Please check the documentation of this tool in the in the section of FASTQ tools.","input":{"type":"stdin","format":"TEXT"},"output":{"type":"stdout","format":"SVG"},"flags":["-h","-v","-a","-e"],"parameters":[{"name":"tFile1","type":"string"},{"name":"tFile2","type":"string"},{"name":"enlarge painted regions","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool (CHESTER)"},{"name":"gto_fasta_split_streams","description":"Splits and writes a FASTA file into three channels of information: headers, extra and DNA.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"file","format":"TEXT, DNA, AminoAcids, RNA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":true,"is_multi_type_output":true,"source":"gto/src/FastaSplitStreams.c"},{"name":"gto_fasta_merge_streams","description":"It merges the three channels of information (headers, extra and DNA) and writes it into a FASTA file.","input":{"type":"file","format":"TEXT, DNA, AminoAcids, RNA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[{"name":"headers"},{"name":"extra"},{"name":"dna"}],"is_multi_output":false,"is_multi_type_output":false,"related_tools":[{"name":"gto_fasta_split_streams"}],"source":"gto/src/FastaMergeStreams.c"},{"name":"gto_amino_acid_to_group","description":"Converts an amino acid sequence to a group sequence.","input":{"type":"stdin","format":"AminoAcids"},"output":{"type":"stdout","format":"Group"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/AminoAcidToGroup.c"},{"name":"gto_amino_acid_to_pseudo_dna","description":"Converts an amino acid (protein) sequence to a pseudo DNA sequence.","input":{"type":"stdin","format":"AminoAcids"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/AminoAcidToPseudoDNA.c"},{"name":"gto_amino_acid_compressor","description":"A new lossless compressor to compress efficiently amino acid sequences (proteins). It uses a cooperation between multiple context and substitutional tolerant context models. The cooperation between models is balanced with weights that benefit the models with better performance according to a forgetting function specific for each model.","input":{"type":"stdin","format":"AminoAcids"},"output":{"type":"stdout","format":"AminoAcids"},"flags":["-h","-s","-v","-V","-f","-l","-t","-e","-rm","-tm"],"parameters":[{"name":"level","type":"integer"},{"name":"threshold","type":"float"},{"name":"c","type":"integer"},{"name":"d","type":"integer"},{"name":"g","type":"float"},{"name":"m","type":"integer"},{"name":"e","type":"integer"},{"name":"a","type":"float"},{"name":"FILE","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool"},{"name":"gto_amino_acid_from_fasta","description":"Converts DNA sequences in FASTA or Multi-FASTA file format to an amino acid sequence.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-f","parameter":"frame","required":false}],"parameters":[{"name":"frame","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/AminoAcidFromFasta.c"},{"name":"gto_amino_acid_from_fastq","description":"Converts DNA sequences in the FASTQ file format to an amino acid sequence.","input":{"type":"stdin","format":"FASTQ"},"output":{"type":"stdout","format":"AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-f","parameter":"frame","required":false}],"parameters":[{"name":"frame","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/AminoAcidFromFastq.c"},{"name":"gto_amino_acid_from_seq","description":"Converts DNA sequence to an amino acid sequence.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-f","parameter":"frame","required":false}],"parameters":[{"name":"frame","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/AminoAcidFromSeq.c"},{"name":"gto_genomic_gen_random_dna","description":"Generates a synthetic DNA.","input":{"type":"","format":""},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"seed","required":false},{"flag":"-n","parameter":"nSymbols","required":false},{"flag":"-f","parameter":"frequency","required":false}],"parameters":[{"name":"seed","type":"integer","maxLength":9},{"name":"nSymbols","type":"integer","min":0,"max":100000},{"name":"frequency","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicGenRandomDNA.c"},{"name":"gto_genomic_rand_seq_extra_chars","description":"Substitutes in the DNA sequence the outside ACGT chars by random ACGT symbols. It works in sequence file formats.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicRandSeqExtraChars.c"},{"name":"gto_genomic_dna_mutate","description":"Creates a synthetic mutation of a sequence file given specific rates of mutations, deletions and additions.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-s","parameter":"seed","required":false},{"flag":"-m","parameter":"mutation-rate","required":false},{"flag":"-d","parameter":"deletion-rate","required":false},{"flag":"-i","parameter":"insertion-rate","required":false},{"flag":"-a","parameter":"ACGTN-alphabet","required":false}],"parameters":[{"name":"seed","type":"integer","maxLength":9},{"name":"mutation-rate","type":"float","min":0,"max":1},{"name":"deletion-rate","type":"float","min":0,"max":1},{"name":"insertion-rate","type":"float","min":0,"max":1}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicDNAMutate.c"},{"name":"gto_genomic_extract","description":"Extracts sequences from a sequence file, which the range is defined by the user in the parameters.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-i","parameter":"init","required":false},{"flag":"-e","parameter":"end","required":false}],"parameters":[{"name":"init","type":"integer"},{"name":"end","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicExtract.c"},{"name":"gto_genomic_period","description":"Calculates the best order depth of a sequence, using FCMs. It only works \\"ACGT\\", while the rest will be discarded.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicPeriod.c"},{"name":"gto_genomic_count_bases","description":"Counts the number of bases in sequence, FASTA or FASTQ files.","input":{"type":"stdin","format":"DNA, FASTA, FASTQ"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicCountBases.c"},{"name":"gto_genomic_compressor","description":"Able to provide additional compression gains over several top specific tools, while as an analysis tool, it is able to determine absolute measures, namely for many distance computations, and local measures, such as the information content contained in each element, providing a way to quantify and locate specific genomic events.","input":{"type":"stdin","format":"SEQ"},"output":{"type":"stdout","format":"SEQ"},"flags":["-h","-V","-F","-v","-x","-s","-e","-l","-tm","-rm","-r"],"parameters":[{"name":"level","type":"integer"},{"name":"NB_C","type":"integer"},{"name":"NB_D","type":"integer"},{"name":"NB_I","type":"integer"},{"name":"NB_H","type":"integer"},{"name":"NB_G","type":"float"},{"name":"NB_S","type":"integer"},{"name":"NB_E","type":"integer"},{"name":"NB_A","type":"float"},{"name":"FILE","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"external_tool"},{"name":"gto_genomic_complement","description":"Replaces the ACGT bases with their complements in a DNA sequence. It works in sequence file formats.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/GenomicComplement.c"},{"name":"gto_genomic_reverse","description":"Reverses the ACGT bases order for each read in a sequence file.","input":{"type":"stdin","format":"DNA"},"output":{"type":"stdout","format":"DNA"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Reverse.c"},{"name":"gto_char_to_line","description":"Splits a sequence into lines, creating an output sequence which has a char for each line.","input":{"type":"stdin","format":"DNA, RNA, AminoAcids"},"output":{"type":"stdout","format":"DNA, RNA, AminoAcids"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/CharToLine.c"},{"name":"gto_new_line_on_new_x","description":"Splits different rows with a new empty row.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/NewLineForNewValue.c"},{"name":"gto_upper_bound","description":"Sets an upper bound in a file with a value per line.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-u","parameter":"upperbound","required":true}],"parameters":[{"name":"upperbound","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/UpperBound.c"},{"name":"gto_lower_bound","description":"Sets an lower bound in a file with a value per line.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-l","parameter":"lowerbound","required":true}],"parameters":[{"name":"lowerbound","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/LowerBound.c"},{"name":"gto_brute_force_string","description":"Generates all combinations, line by line, for an inputted alphabet and specific size.","input":{"type":"","format":""},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-a","parameter":"alphabet","required":true},{"flag":"-s","parameter":"size","required":true}],"parameters":[{"name":"alphabet","type":"string"},{"name":"size","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/BruteForceString.c"},{"name":"gto_real_to_binary_with_threshold","description":"Converts a sequence of real numbers into a binary sequence, given a threshold. The numbers below to the threshold will be 0.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"BIN"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-t","parameter":"threshold","required":true}],"parameters":[{"name":"threshold","type":"float"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/RealToBinaryWithThreshold.c"},{"name":"gto_sum","description":"Adds decimal values in file, line by line, splitted by spaces or tabs.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-r","parameter":"sumrows","required":false},{"flag":"-a","parameter":"sumall","required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Sum.c"},{"name":"gto_filter","description":"Filters numerical sequences using a low-pass filter.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-w","parameter":"windowsize","required":false},{"flag":"-d","parameter":"drop","required":false},{"flag":"-t","parameter":"windowtype","required":false},{"flag":"-c","parameter":"onecolumn","required":false},{"flag":"-p","parameter":"printone","required":false},{"flag":"-r","parameter":"reverse","required":false}],"parameters":[{"name":"windowsize","type":"integer"},{"name":"drop","type":"float"},{"name":"windowtype","type":"integer"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Filter.c"},{"name":"gto_word_search","description":"Search for a word in a file. It is case sensitive.","input":{"type":"stdin","format":"TEXT, Multi-FASTA, FASTA, FASTQ, NUM, DNA, RNA, AminoAcids"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-w","parameter":"word","required":true}],"parameters":[{"name":"word","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/WordSearch.c"},{"name":"gto_permute_by_blocks","description":"Permutates by block sequence, FASTA and Multi-FASTA files.","input":{"type":"stdin","format":"FASTA, Multi-FASTA"},"output":{"type":"stdout","format":"FASTA, Multi-FASTA"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-b","parameter":"numbases","required":true},{"flag":"-s","parameter":"seed","required":true}],"parameters":[{"name":"numbases","type":"integer"},{"name":"seed","type":"integer","maxLength":9}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/PermuteByBlocks.c"},{"name":"gto_info","description":"Gives the basic properties of the file, namely size, cardinality, distribution percentage of the symbols, among others.","input":{"type":"stdin","format":"text, Multi-FASTA, FASTA, FASTQ, NUM, DNA, RNA, AminoAcids"},"output":{"type":"stdout","format":"TEXT"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-a","parameter":"ascii","required":false}],"parameters":[],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Info.c"},{"name":"gto_segment","description":"Segments a filtered sequence based on a threshold.","input":{"type":"stdin","format":"NUM"},"output":{"type":"stdout","format":"text, NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-t","parameter":"threshold","required":true}],"parameters":[{"name":"threshold","type":"float"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Segment.c"},{"name":"gto_comparative_map","description":"Creates a visualization for comparative maps.","input":{"type":"stdin","format":"POS"},"output":{"type":"stdout","format":"SVG"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-V","parameter":"versionNumber","required":false},{"flag":"-v","parameter":"verboseMode","required":false},{"flag":"-l","parameter":"link","required":false},{"flag":"-w","parameter":"width","required":false},{"flag":"-s","parameter":"space","required":false},{"flag":"-m","parameter":"mult","required":false},{"flag":"-b","parameter":"begin","required":false},{"flag":"-c","parameter":"minimum","required":false},{"flag":"-i","parameter":"notShowInversion","required":false},{"flag":"-r","parameter":"notShowRegular","required":false},{"flag":"-o","parameter":"FILE","required":false}],"parameters":[{"name":"link","type":"integer"},{"name":"width","type":"integer"},{"name":"space","type":"integer"},{"name":"mult","type":"integer"},{"name":"begin","type":"integer"},{"name":"minimum","type":"integer"},{"name":"FILE","type":"string"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/ComparativeMap.c"},{"name":"gto_max","description":"Computes the maximum value in each row between two files.","input":{"type":"file","format":""},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-f","parameter":"first_file","required":true},{"flag":"-s","parameter":"second_file","required":true}],"parameters":[{"name":"first_file","type":"file"},{"name":"second_file","type":"file"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Max.c"},{"name":"gto_min","description":"Computes the minium value in each row between two files.","input":{"type":"file","format":""},"output":{"type":"stdout","format":"NUM"},"flags":[{"flag":"-h","parameter":null,"required":false},{"flag":"-f","parameter":"first_file","required":true},{"flag":"-s","parameter":"second_file","required":true}],"parameters":[{"name":"first_file","type":"file"},{"name":"second_file","type":"file"}],"is_multi_output":false,"is_multi_type_output":false,"source":"gto/src/Min.c"}]}');function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}var Ae=function(e,t){if("object"===ve(t)&&null!==t){var r=Object.values(t)[0];return r?Ae(e,r):"UNKNOWN"}if("string"!=typeof t)return"UNKNOWN";var n=t.trim(),o=e.split(".").pop().toLowerCase(),a={fasta:["Multi-FASTA","FASTA"],fa:["Multi-FASTA","FASTA"],fastq:["FASTQ"],fq:["FASTQ"],fastqpack:["PackagedFASTQ"],pos:["POS"],svg:["SVG"],txt:["Multi-FASTA","FASTA","FASTQ","PackagedFASTQ","DNA","RNA","AminoAcids","text","NUM","BIN","Group"],num:["NUM"],bin:["BIN"]},i=function(e){return e.split(/\r?\n/).filter((function(e){return e.startsWith(">")})).length};if(a[o]){var l,u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(a[o]);try{for(u.s();!(l=u.n()).done;)switch(l.value){case"PackagedFASTQ":var s=n.split(/\r?\n/);if(s.slice(0,Math.min(5,s.length)).every((function(e){return(e.match(/\x7F/g)||[]).length>=3&&/\t\d+$/.test(e)}))&&s.length>0)return"PackagedFASTQ";break;case"Multi-FASTA":if(n.startsWith(">")&&i(n)>=2){var c=n.split(">").slice(1).every((function(e){var t=e.split(/\r?\n/).filter((function(e){return""!==e.trim()})),r=t.slice(1).join("");return t.length>1&&/^[ACGTacgtNn]+$/.test(r.trim())}));if(c)return"Multi-FASTA"}break;case"FASTA":if(n.startsWith(">")&&1===i(n)){var f=n.split(/\r?\n/).filter((function(e){return!e.startsWith(">")}));if(f.length>0&&f.every((function(e){return/^[ACGTacgtNn]+$/.test(e.trim())})))return"FASTA"}break;case"FASTQ":if(n.startsWith("@")){var p=n.split(/\r?\n/);if(p.length>=4&&p.length%4==0&&p.every((function(e,t){return t%4==0?e.startsWith("@"):t%4==2?e.startsWith("+"):/^[ACGTacgtNn]+$/.test(e.trim())||/^[!-~]+$/.test(e.trim())})))return"FASTQ"}}}catch(e){u.e(e)}finally{u.f()}}return n.startsWith("<svg")?"SVG":/^[ACGTNacgtn\s]+$/.test(n)?"DNA":/^[ACGUacgu\s]+$/.test(n)?"RNA":/^[PNUSH\*X]+$/i.test(n)?"Group":/^[ACDEFGHIKLMNPQRSTVWYacdefghiklmnpqrstvwy\s]+$/.test(n)?"AminoAcids":/^[01\s\r\n]+$/.test(n)?"BIN":/^\d+(\.\d+)?(\s+\d+(\.\d+)?)*/.test(n)?"NUM":/^[\x20-\x7E\s\r\n]+$/.test(n)?"TEXT":"UNKNOWN"};function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const xe=function(e){var t=e.tool,r=e.inputData,n=e.setInputData,o=be((0,l.useState)(""),2),a=(o[0],o[1]),i=(0,l.useContext)(re),u=(0,l.useContext)(W),s=u.setInputDataType,c=u.validateData,f=u.inputDataType,p=be((0,l.useState)(!0),2),m=p[0],d=p[1],y=be((0,l.useState)(!0),2),v=y[0],A=y[1],b=be((0,l.useState)([]),2),_=b[0],x=b[1],w=be((0,l.useState)(""),2),S=w[0],T=w[1],O=[".fasta",".fa",".fastq",".fq",".pos",".svg",".txt",".num"];(0,l.useEffect)((function(){if(t){var e=ye.Y.find((function(e){return e.name==="gto_".concat(t.name)})),r=(null==e?void 0:e.input.format.split(",").map((function(e){return e.trim()})))||[];x(r),r.length===_.length&&r.every((function(e,t){return e===_[t]}))||(T(""),n(""))}}),[t]);var F={FASTA:">seq\nTTGCACTGACCTGAAGTCTTGGAGTATGACCGCGGCTCGGCTCTATCGAACGCTCGATCTAGCGCTATAGGTGGTGCCGAAGGCGGTCTGTCGTCGTA","Multi-FASTA":">seq1\nGTTCCAGTAGCGGCGTATCGTAGGTGACGTAGCAGTCGATCGCTAGCGAAGCGCTGACTAGCTCGATAGCGGCTACTCGTACGTAGTACGTAGCATACG\n>seq2\nAGCTGCTGATCGTGATCGAGCTCGATGCATCGATCGCTAGCGTACGTAGCTGACGTAGCGTGACTGATCGTAGCTGATCGTGACGTAGCTGACGTAGCTG",FASTQ:"@seq\nGCTAGCTGATCGTACGTAGCGTATCGTAGCTGATCGTACGATCGTAGCTAGCTGATCGTAGCTAGCTAGCTGATCGTAGCTAGCTGATCGTACGTAGC\n+\n!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~!!!!!!!!!!",DNA:"CGTACGTAGCTGACTGATCGTAGCTAGCTGACTGACTAGCTGATCGTAGCTGATCGTACGTAGCTAGCTAGCTGACTAGCTGATCGTACGTAGCTGAC",RNA:"CGUACGUAGCUGACUGAUCGAUGCUACGUAGCUGACGUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUAGCUA",AminoAcids:"ACDEFGHIKLMNPQRSTVWYACDEFGHIKLMNPQRSTVWYACDEFGHIKLMNPQRSTVWYACDEFGHIKLMNPQRSTVWYACDEFGHIKLMNPQRSTV",NUM:"0.123\n3.432\n2.341\n1.323\n7.538\n4.122\n0.242\n0.654\n5.633",SVG:"<svg width='100' height='100'><rect width='100' height='100' style='fill:rgb(0,0,255);stroke-width:3;stroke:rgb(0,0,0)' /></svg>",PackagedFASTQ:"GATTTGGGGTTCAAAGCAGTATCGATCAAATAGTAAATCCATTTGTTCAACTCACAGTTT!''*((((***+))%%%++)(%%%%).1***-+*''))**55CCF>>>>>>CCCCCCC6SEQ_ID+\t0"},C=be((0,l.useState)(null),2),I=C[0],k=C[1];(0,l.useEffect)((function(){return function(){I&&clearTimeout(I)}}),[I]);var N=r.split("\n").length;return l.createElement(j.A,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2}},l.createElement(E.A,{variant:"h6"},"Input"),l.createElement(h.A,{sx:{minWidth:200}},l.createElement(me.A,{value:S,onChange:function(e){return t=e.target.value,T(t),void n(F[t]||"");var t},displayEmpty:!0,fullWidth:!0,size:"small"},l.createElement(de.A,{value:"",disabled:!0},"Select Example Format"),_.map((function(e){return l.createElement(de.A,{key:e,value:e},e)}))))),l.createElement(h.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:2}},l.createElement(q.A,{variant:"outlined",value:r,onChange:function(e){var t=e.target.value;n(t),I&&clearTimeout(I);var r=setTimeout((function(){if(""===t.trim())return s("UNKNOWN"),void d(!0);var e=Ae("input.txt",t);s(e);var r=c(t,e);d(r),r||"UNKNOWN"===e||i("Invalid ".concat(e," data format."),"error")}),1e3);k(r)},placeholder:"e.g., >Sequence1\\nACGT...",InputProps:{multiline:!0,inputComponent:"textarea"},inputProps:{maxLength:1e5},rows:9,sx:{flexGrow:1,flexShrink:1,overflow:"auto",minHeight:"100px",whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"0.875rem"},error:!m&&"UNKNOWN"!==f,helperText:m||"UNKNOWN"===f?"":"The entered data does not conform to the expected ".concat(f," format.")})),l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:1,flexShrink:0}},l.createElement(E.A,{variant:"body2",color:"textSecondary"},r.length,"/100000 characters, ",N," lines"),l.createElement(g.A,{title:"Upload File"},l.createElement(he.A,{color:"primary",component:"label",sx:{padding:"6px",backgroundColor:v?"primary.main":"grey.500","&:hover":{backgroundColor:v?"primary.dark":"grey.500"},cursor:v?"pointer":"not-allowed",color:"white"},disabled:!v},l.createElement(pe.A,{fontSize:"small"}),l.createElement("input",{type:"file",hidden:!0,accept:O.join(","),onChange:function(e){var t=e.target.files[0];if(t){var r=".".concat(t.name.split(".").pop().toLowerCase());if(!O.includes(r))return i("Unsupported file type: ".concat(r),"error"),A(!1),a(""),n(""),d(!1),void s("UNKNOWN");var o=104857600,l=t.size>o;l&&i("Uploaded file is too large. Only the first 100 lines will be processed.","warning");var u=new FileReader;u.onload=function(e){var r=e.target.result;!function(e,t,r){var o=r?t.split("\n").slice(0,100).join("\n"):t;n(o);var a=Ae(e.name,o);s(a);var l=c(o,a);d(l),l||"UNKNOWN"===a?r&&i("Processing the first 100 lines of the file.","success"):i("Invalid ".concat(a," data format."),"error")}(t,r,l)},u.onerror=function(e){console.error("Error reading file:",e),i("Failed to read the file.","error")},l?u.readAsText(t.slice(0,o)):u.readAsText(t)}}})))))};var we=r(8984),Ee=r(779),Se=r(4213),Te=r(1710),Oe=r.n(Te);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ke=function(e){var t=e.outputData,r=e.setOutputData,n=e.workflow,o=void 0===n?null:n,a=e.tool,i=void 0===a?null:a,u=e.inputData,s=(e.page,Ce((0,l.useState)(""),2)),c=s[0],f=s[1],p=Ce((0,l.useState)(""),2),m=p[0],d=p[1];return(0,l.useEffect)((function(){if("object"!==Fe(t)||Array.isArray(t))d(t),f("");else if(Object.keys(t).length>0)if(c&&t[c])d(t[c]);else{var e=Object.keys(t)[0];f(e),d(t[e])}else d(""),f("")}),[t,c]),(0,l.useEffect)((function(){null!==o&&r("")}),[o,u]),(0,l.useEffect)((function(){null!==i&&r("")}),[i,u]),l.createElement(j.A,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2,flexShrink:0}},l.createElement(E.A,{variant:"h6"},"Output"),"object"===Fe(t)&&!Array.isArray(t)&&Object.keys(t).length>0&&l.createElement(Ee.A,{size:"small",sx:{minWidth:150}},l.createElement(me.A,{value:c,onChange:function(e){f(e.target.value)},displayEmpty:!0},Object.keys(t).map((function(e){return l.createElement(de.A,{key:e,value:e},e)}))))),l.createElement(h.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:2}},l.createElement(q.A,{variant:"outlined",value:m,placeholder:"Output Data",InputProps:{multiline:!0,inputComponent:"textarea",readOnly:!0},rows:8,sx:{flexGrow:1,flexShrink:1,overflow:"auto",minHeight:"100px",whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"0.875rem"}})),l.createElement(h.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:1,flexShrink:0,backgroundColor:"white"}},l.createElement(g.A,{title:"Save Output"},l.createElement(he.A,{color:"primary",onClick:function(){if("object"==Fe(t)){for(var e=new(Oe()),r=0,n=Object.entries(t);r<n.length;r++){var o=Ce(n[r],2),a=o[0],i=o[1];e.file(a,i)}e.generateAsync({type:"blob"}).then((function(e){(0,Se.saveAs)(e,"output.zip")}))}else{var l=new Blob([t],{type:"text/plain;charset=utf-8"}),u=URL.createObjectURL(l),s=document.createElement("a");s.download="output.txt",s.href=u,s.click(),URL.revokeObjectURL(u)}}},l.createElement(we.A,null)))))};var Ne=r(3375),je=r(8974),qe=r(6694),Pe=r(7414),Ge=r(1405);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Me(){Me=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==De(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(De(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function Re(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}var Ue=[".fasta",".fa",".fastq",".fq",".pos",".svg",".txt",".num"],$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise((function(r,n){var o=0,a="",i=new FileReader,l=0,u=function(){if(o>=t||l>=e.size){var n=a.split("\n");return n.filter((function(e){return e.trim().startsWith(">")})).length>1&&n.length&&n[n.length-1].trim().startsWith(">")&&(n.pop(),a=n.join("\n")),void r(a)}var u=e.slice(l,l+65536);i.readAsText(u)};i.onload=function(e){var r=e.target.result.split("\n");if(l>0&&!1===a.endsWith("\n")){var n=a.lastIndexOf("\n");a=a.slice(0,n+1)+a.slice(n+1)+r[0],r.shift()}for(var i=0;i<r.length&&o<t;i++)(o>0||l>0)&&(a+="\n"),a+=r[i],o++;l+=65536,u()},i.onerror=function(){n(new Error("Error reading file"))},u()}))},ze=function(){var e,t=(e=Me().mark((function e(t,r,n){var o,a,i,l,u;return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=".".concat(t.name.split(".").pop().toLowerCase()),Ue.includes(o)){e.next=4;break}return n("Unsupported file ".concat(t.name," with type ").concat(o,"."),"error"),e.abrupt("return",null);case 4:if(a=t.size>1048576,e.prev=6,!a){e.next=14;break}return n("The file ".concat(t.name," is too large. Only the first 10000 lines will be loaded."),"warning"),e.next=11,$e(t,1e4);case 11:i=e.sent,e.next=18;break;case 14:return l=new FileReader,e.next=17,new Promise((function(e,r){l.onload=function(t){return e(t.target.result)},l.onerror=function(){return r(new Error("Error reading file"))},l.readAsText(t)}));case 17:i=e.sent;case 18:if(u=Ae(t.name,i),r(i,u)||"UNKNOWN"===u){e.next=22;break}return n("Invalid ".concat(u," data format in ").concat(t.name,"."),"error"),e.abrupt("return",null);case 22:return e.abrupt("return",{id:"".concat(t.name,"-").concat(Date.now()),name:t.name,type:"file",fileType:u,content:i,size:t.size,lastModified:new Date(t.lastModified),relativePath:""});case 25:return e.prev=25,e.t0=e.catch(6),n("Failed to read file: ".concat(t.name),"error"),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[6,25]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Re(a,n,o,i,l,"next",e)}function l(e){Re(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}();function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return(t=function(e){var t=function(e){if("object"!=Qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(){Ye=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Qe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Qe(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function Xe(e){return tt(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Je(e)||Ze()}function He(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function Ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){He(a,n,o,i,l,"next",e)}function l(e){He(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Ke(e,t){return tt(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||Je(e,t)||Ze()}function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Je(e,t){if(e){if("string"==typeof e)return et(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tt(e){if(Array.isArray(e))return e}const rt=function(e){var t=e.tool,r=e.inputData,n=e.setOutputData,o=(e.setIsLoading,Ke((0,l.useState)({}),2)),a=o[0],i=o[1],u=Ke((0,l.useState)({}),2),s=u[0],c=u[1],f=Ke((0,l.useState)({}),2),p=f[0],m=f[1],d=Ke((0,l.useState)({}),2),v=d[0],A=d[1],b=(0,l.useContext)(W).validateData,_=ye.Y.find((function(e){return e.name==="gto_".concat(t.name)})),x=(null==_?void 0:_.input.format.split(",").map((function(e){return e.trim()})))||[],w=(null==_?void 0:_.output.format.split(",").map((function(e){return e.trim()})))||[],S=((0,Ne.FR)((0,Ne.MS)(Ne.cA,{activationConstraint:{distance:5}}),(0,Ne.MS)(Ne.IG,{activationConstraint:{delay:250,tolerance:5}})),(0,l.useContext)(re));(0,l.useEffect)((function(){t&&t.name&&T(t.name)}),[t]);var T=function(){var e=Ve(Ye().mark((function e(t){var r,n,o,a,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:return r=e.sent,e.next=6,r("",["-h"]);case 6:(n=e.sent).stderr?console.error("Error in ".concat(t," help message: ").concat(n.stderr)):(o=n.stdout.split("\n"),a={},i="",o.forEach((function(e){if(e=e.trim(),/^-/.test(e)){var t=Xe(e.split(/\s+/)),r=t[0],n=t.slice(1),o=r.replace(/[, ]/g,"").trim();a[o]=n.join(" ")}else e.includes("--help")||e.toLowerCase().includes("optional")||e.toLowerCase().includes("optional options")||(i+="".concat(e,"\n"))})),m({general:i.trim(),flags:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to load help message for ".concat(t,": ").concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.name)})),r={};if(t.flags.forEach((function(e){var n=e.required,o=!!s[e.flag],a=s[e.parameter],i=t.parameters.find((function(t){return t.name===e.parameter}));if(i){if(n||o)if("integer"!==i.type||/^-?\d+$/.test(a))if("float"!==i.type||/^-?\d+(\.\d+)?$/.test(a))if(void 0===a||""===a)r[e.parameter]="Parameter value cannot be empty";else{var l=parseFloat(a);void 0!==i.min&&l<i.min&&(r[e.parameter]="Value must be at least ".concat(i.min)),void 0!==i.max&&l>i.max&&(r[e.parameter]="Value must be at most ".concat(i.max)),void 0!==i.maxLength&&a.length>i.maxLength&&(r[e.parameter]="Maximum input length is ".concat(i.maxLength))}else r[e.parameter]="Invalid float value";else r[e.parameter]="Invalid integer value"}else!n||void 0!==a&&""!==a||(r[e.flag]="Required flag cannot be empty")})),"brute_force_string"===e.name){var n=s.alphabet,o=s.size;n&&o&&Math.pow(n.length,o)>25e4&&(S("The number of possible combinations is too high. Please reduce the alphabet or the size.","error"),t.flags.forEach((function(e){r[e.parameter]="Number of combinations is too high"})))}return i(r),Object.keys(r).length>0&&S("Please correct the parameters highlighted in red.","error"),0===Object.keys(r).length},C=function(){var e=Ve(Ye().mark((function e(t,r){var n,o,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r,!(r instanceof File)){e.next=10;break}return e.next=4,ze(r,b,S);case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:n=o.name,a={name:o.name,data:o.content},A((function(e){return We(We({},e),{},Le({},t,a))}));case 10:c((function(e){return We(We({},e),{},Le({},t,n))}));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=Ve(Ye().mark((function e(t){var o,a,i,l,u,c,f,p,m,d,h,y,g;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(t)){e.next=5;break}return S("Please correct the parameters highlighted in red.","error"),e.abrupt("return");case 5:return e.next=7,F(t.name);case 7:if(o=e.sent,a=ye.Y.find((function(e){return e.name==="gto_".concat(t.name)}))){e.next=12;break}throw S("Configuration for tool ".concat(t.name," not found."),"error"),new Error("Configuration for tool ".concat(t.name," not found."));case 12:if(i=[],s&&Object.keys(s).length>0&&a.flags.forEach((function(e){(e.required||s[e.flag])&&(i.push(e.flag),e.parameter&&void 0!==s[e.parameter]&&""!==s[e.parameter]&&i.push("".concat(s[e.parameter])))})),l=Ae("input.txt",r),x.includes(l)||""===a.input.type||"file"===a.input.type){e.next=19;break}return S("Input data type ".concat(l," is not supported by tool ").concat(t.name,"."),"error"),console.error("Input data type ".concat(l," is not supported by tool ").concat(t.name,".")),e.abrupt("return");case 19:if(null==r&&(r=""),!(""===r&&v&&Object.keys(v).length>0)){e.next=26;break}return e.next=23,o(v,i);case 23:u=e.sent,e.next=29;break;case 26:return e.next=28,o(r,i);case 28:u=e.sent;case 29:if(u.stderr&&(c=u.stderr.split("\n"),f=[],c.forEach((function(e){if(e.trim().startsWith("ERROR:"))throw new Error(e.trim());e.trim()&&f.push(e.trim())})),f.length>0&&S(f.join("\n"),"info")),!a.is_multi_output){e.next=36;break}for(p={},m=0,d=Object.entries(u.outputs);m<d.length;m++)h=Ke(d[m],2),y=h[0],g=h[1],p[y]=g;return e.abrupt("return",n(p));case 36:return e.abrupt("return",n(u.stdout));case 37:e.next=43;break;case 39:throw e.prev=39,e.t0=e.catch(0),console.error("Failed to execute tool ".concat(t.name,":"),e.t0),e.t0;case 43:case"end":return e.stop()}}),e,null,[[0,39]])})));return function(t){return e.apply(this,arguments)}}();return l.createElement(j.A,{elevation:3,sx:{padding:2,height:"100%",display:"flex",flexDirection:"column"}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}},l.createElement(E.A,{variant:"h6",gutterBottom:!0},"Tool Testing")),l.createElement(h.A,{sx:{flexGrow:1,overflowY:"auto"}},l.createElement(j.A,{elevation:1,sx:{transition:"transform 150ms ease, background-color 300ms ease, border-color 300ms ease",marginBottom:"8px",padding:"8px",borderRadius:"4px",cursor:"grab",backgroundColor:"white"}},l.createElement(h.A,{sx:{display:"flex",alignItems:"center",marginBottom:3}},l.createElement(E.A,{variant:"subtitle1",sx:{flexGrow:1}},"Tool: ",t.name),l.createElement(g.A,{title:l.createElement("pre",{style:{whiteSpace:"pre-wrap"}},p.general||"Loading help..."),arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:"none"}}}},l.createElement(he.A,{size:"small",sx:{marginLeft:1}},l.createElement(je.A,{fontSize:"small"})))),l.createElement(h.A,{sx:{marginBottom:3}},l.createElement(E.A,{variant:"body1",gutterBottom:!0},"Supported Formats"),l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between"}},l.createElement(h.A,{sx:{flex:1}},l.createElement(E.A,{variant:"body2",sx:{color:"text.secondary"}},"Input:"),l.createElement(E.A,{variant:"body2"},x.length>0?x.join(", "):"None available")),l.createElement(h.A,{sx:{flex:1}},l.createElement(E.A,{variant:"body2",sx:{color:"text.secondary"}},"Output:"),l.createElement(E.A,{variant:"body2"},w.length>0?w.join(", "):"None available")))),_.flags.length>1&&l.createElement(E.A,{variant:"body1",gutterBottom:!0},"Flags and Parameters"),function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.name)}));if(!t)return null;var r=(p||{general:"Loading help...",flags:{}}).flags||{},n=t.flags.filter((function(e){return e.required&&"-h"!==e.flag})),o=t.flags.filter((function(e){return!e.required&&"-h"!==e.flag})),i=t.parameters;return l.createElement(h.A,{sx:{marginTop:1}},n.length>0&&l.createElement(h.A,null,l.createElement(E.A,{variant:"subtitle2",sx:{marginBottom:1,color:"text.secondary"}},"Required Flags"),n.map((function(e){s[e.flag];var n,o,u,c,f=i.find((function(t){return t.name===e.parameter})),p=s[e.parameter]||"",m=a[e.parameter]||"";return l.createElement(h.A,{key:e.flag,sx:{display:"flex",alignItems:"center",marginBottom:1,gap:2}},l.createElement(Pe.A,{control:l.createElement("span",null),label:l.createElement(g.A,{title:r[e.flag]||"Loading help message...",arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:300,whiteSpace:"pre-wrap"}}}},l.createElement("span",null,e.parameter," ",l.createElement("span",{style:{color:"red"}},"*"))),sx:{alignItems:"center",margin:0}}),f&&("file"===f.type?l.createElement(l.Fragment,null,l.createElement(y.A,{variant:"outlined",component:"label",size:"small"},p?"Change File":"Upload File",l.createElement("input",{type:"file",hidden:!0,onChange:function(t){return C(e.parameter,t.target.files[0])}})),p&&l.createElement(E.A,{variant:"caption",sx:{ml:1}},p.name||p)):l.createElement(q.A,{value:p,onChange:function(t){return C(e.parameter,t.target.value)},size:"small",label:f.type,error:!!m,helperText:m,sx:{flexGrow:1,"& .MuiOutlinedInput-root":{borderColor:m?"red":"default"},"& .MuiOutlinedInput-notchedOutline":m?{borderColor:"red",borderWidth:"1px"}:{}},type:"integer"===(null===(n=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===n?void 0:n.type)||"float"===(null===(o=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===o?void 0:o.type)?"number":"text",inputProps:"integer"===(null===(u=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===u?void 0:u.type)||"float"===(null===(c=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===c?void 0:c.type)?{step:"any"}:{}})))}))),o.length>0&&l.createElement(h.A,null,l.createElement(E.A,{variant:"subtitle2",sx:{marginBottom:1,flexGrow:1,color:"text.secondary"}},"Optional Flags"),o.map((function(e){var n,o,u,c,f=!!s[e.flag],p=i.find((function(t){return t.name===e.parameter})),m=s[e.parameter]||"",d=a[e.parameter]||"";return l.createElement(h.A,{key:e.flag,sx:{display:"flex",alignItems:"center",marginBottom:1,gap:2}},l.createElement(Pe.A,{control:l.createElement(Ge.A,{checked:f,onChange:function(t){return C(e.flag,t.target.checked)},color:"primary"}),label:l.createElement(g.A,{title:r[e.flag]||"Loading help message...",arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:300,whiteSpace:"pre-wrap"}}}},l.createElement("span",null,e.parameter)),sx:{alignItems:"center",margin:0}}),p&&f&&("file"===p.type?l.createElement(l.Fragment,null,l.createElement(y.A,{variant:"outlined",component:"label",size:"small"},m?"Change File":"Upload File",l.createElement("input",{type:"file",hidden:!0,onChange:function(t){return C(e.parameter,t.target.files[0])}})),m&&l.createElement(E.A,{variant:"caption",sx:{ml:1}},m.name||m)):l.createElement(q.A,{value:m,onChange:function(t){return C(e.parameter,t.target.value)},size:"small",label:p.type,error:!!d,helperText:d,sx:{flexGrow:1,"& .MuiOutlinedInput-root":{borderColor:d?"red":"default"},"& .MuiOutlinedInput-notchedOutline":d?{borderColor:"red",borderWidth:"1px"}:{},alignSelf:"center"},type:"integer"===(null===(n=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===n?void 0:n.type)||"float"===(null===(o=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===o?void 0:o.type)?"number":"text",inputProps:"integer"===(null===(u=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===u?void 0:u.type)||"float"===(null===(c=t.parameters.find((function(t){return t.name===e.parameter})))||void 0===c?void 0:c.type)?{step:"any"}:{}})))}))))}(t),l.createElement(y.A,{variant:"contained",color:"primary",size:"small",onClick:function(){return I(t)},startIcon:l.createElement(qe.A,null),sx:{marginTop:2}},"Run Tool"))))};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(){ot=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==nt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(nt(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function at(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ut=function(){var e=it((0,l.useState)(null),2),t=e[0],r=e[1],n=it((0,l.useState)(""),2),o=(n[0],n[1]),a=it((0,l.useState)(""),2),i=a[0],u=a[1],s=it((0,l.useState)(""),2),c=s[0],f=s[1],p=function(){var e,t=(e=ot().mark((function e(t){var n,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(t),e.prev=1,e.next=4,F(t.name);case 4:return n=e.sent,e.next=7,n("",["-h"]);case 7:(a=e.sent).stderr?console.error("Error loading tool:",a.stderr):o(a.stdout),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error loading tool:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){at(a,n,o,i,l,"next",e)}function l(e){at(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return l.createElement(h.A,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 64px)",overflowY:"auto"}},l.createElement(x.A,{maxWidth:"xl",sx:{flex:1,py:2,display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}},l.createElement(w.Ay,{container:!0,spacing:2,sx:{flex:1,overflow:"hidden"}},l.createElement(w.Ay,{item:!0,xs:12,md:3.2,sx:{display:"flex",flexDirection:"column",overflowY:"auto",maxHeight:"100%"}},l.createElement(fe,{onToolClick:p})),l.createElement(w.Ay,{item:!0,xs:12,md:5.8,sx:{display:"flex",flexDirection:"column",overflowY:"auto",maxHeight:"100%"}},t?l.createElement(rt,{tool:t,inputData:i,setOutputData:f}):l.createElement(E.A,{align:"center",variant:"h6",sx:{marginTop:"20%"}},"Select a tool from the list to view details and test it")),l.createElement(w.Ay,{item:!0,xs:12,md:3,sx:{display:"flex",flexDirection:"column",overflowY:"auto",maxHeight:"100%"}},l.createElement(h.A,{sx:{flexGrow:1,mb:2,overflowY:"auto"}},l.createElement(xe,{tool:t,inputData:i,setInputData:u})),l.createElement(h.A,{sx:{flexGrow:1,overflowY:"auto"}},l.createElement(ke,{outputData:c,setOutputData:f,tool:t,inputData:i,page:"ToolPage"}))))))};var st=r(5327),ct=r(1981),ft=r(5068),pt=r(8878),mt=r(423),dt=r(1692),ht=r(3574),yt=r(1148),gt=r(2653),vt=r(6255),At=r(3086),bt=r(8227),_t=r(7570),xt=r(7110),wt=r(6941),Et=r(7347),St=r(2886),Tt=r(3376),Ot=r(7809),Ft=r(4635),Ct=r(7873),It=r(7558),kt=r(4448),Nt=r(9741),jt=r(8031),qt=r(6831),Pt=r(2477),Gt=r(8763);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Mt(){Mt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Dt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Dt(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function Rt(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function Ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Rt(a,n,o,i,l,"next",e)}function l(e){Rt(a,n,o,i,l,"throw",e)}i(void 0)}))}}function $t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Yt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||Yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ht=function(e){var t=e.selectedFiles,r=e.setSelectedFiles,n=e.tree,o=e.setTree,a=Lt((0,l.useState)(new Set),2),i=a[0],u=a[1],s=Lt((0,l.useState)(null),2),c=s[0],f=s[1],p=Lt((0,l.useState)(null),2),m=p[0],d=p[1],v=Lt((0,l.useState)(!1),2),A=(v[0],v[1],Lt((0,l.useState)(""),2)),b=(A[0],A[1],(0,l.useRef)(null)),_=(0,l.useRef)(null),x=(0,l.useRef)(null),S=Lt((0,l.useState)(!1),2),T=S[0],O=S[1],F=Lt((0,l.useState)(!0),2),C=F[0],I=(F[1],Lt((0,l.useState)(!1),2)),k=I[0],N=I[1],q=(0,l.useContext)(W).validateData,G=(0,l.useContext)(re),R=[".fasta",".fa",".fastq",".fq",".pos",".svg",".txt",".num"],U=function(e,t,r){return"root"===t?[].concat(Wt(e),Wt(r)):e.map((function(e){return e.id===t&&"folder"===e.type?Qt(Qt({},e),{},{children:[].concat(Wt(e.children||[]),Wt(r))}):e.children?Qt(Qt({},e),{},{children:U(e.children,t,r)}):e}))},$=function(e,t,r){if("root"===r)return e.some((function(e){return e.name===t}));var n=function(e,t){var r,o=$t(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.id===t)return a;if(a.children){var i=n(a.children,t);if(i)return i}}}catch(e){o.e(e)}finally{o.f()}return null},o=n(e,r);return!(!o||!o.children)&&o.children.some((function(e){return e.name===t}))},z=function(e,t){if("root"===e)return"";var r=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=$t(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id===t)return o+i.name;if(i.children){var l=r(i.children,t,o+i.name+"/");if(l)return l}}}catch(e){a.e(e)}finally{a.f()}return null};return r(t,e)},Q=function(){var e=Ut(Mt().mark((function e(t){var r,a,i,l,u,s,c;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=Array.from(t.target.files)).length){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,a="folder"===(null==m?void 0:m.type)?m.id:"root",i=z(a,n.children||[]),"root"===a?n.children:function(){var e=function(t,r){var n,o=$t(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.id===r)return a;if(a.children){var i=e(a.children,r);if(i)return i}}}catch(e){o.e(e)}finally{o.f()}return null},t=e(n.children||[],a);null==t||t.children}(),!((l=r.filter((function(e){return $(n.children||[],e.name,a)})).map((function(e){return e.name}))).length>0)){e.next=12;break}return u=1===l.length?'Upload failed: The file "'.concat(l[0],'" already exists at this location.'):"Upload failed: The following files already exist at this location: ".concat(l.join(", ")),G(u,"error"),e.abrupt("return");case 12:return e.next=14,Promise.all(r.map((function(e){return ze(e,q,(function(e,t){return G(e,t)}))})));case 14:s=e.sent,(c=s.filter((function(e){return null!==e}))).forEach((function(e){e.relativePath=i?i+"/"+e.name:e.name})),o((function(e){return Qt(Qt({},e),{},{children:U(e.children||[],a,c)})})),G("".concat(c.length," file(s) uploaded successfully."),"success"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.error("File processing error:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t,r){if(1!==e.length){var n=e.shift(),o=r.find((function(e){return"folder"===e.type&&e.name===n}));o||(o={id:"".concat(n,"-").concat(Date.now()),name:n,type:"folder",children:[]},r.push(o)),B(e,t,o.children)}else r.push(t)},L=function(){var e=Ut(Mt().mark((function e(t){var r,a,i,l,u,s,c,f,p,d,h,y,g;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=Array.from(t.target.files)).length){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,a="folder"===(null==m?void 0:m.type)?m.id:"root",i=z(a,n.children||[]),l=r[0].webkitRelativePath,u=l.split("/")[0],!$(n.children||[],u,a)){e.next=11;break}return G('Upload failed: A folder named "'.concat(u,'" already exists at this location.'),"error"),e.abrupt("return");case 11:s=[],c=0,f=0,p=r;case 14:if(!(f<p.length)){e.next=29;break}return d=p[f],e.prev=16,e.next=19,ze(d,q,(function(e,t){return G(e,t)}));case 19:(h=e.sent)&&(y=d.webkitRelativePath,g=y.split("/"),h.relativePath=i?i+"/"+y:y,B(Wt(g),h,s),c++),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),console.error("Error processing file ".concat(d.name,":"),e.t0);case 26:f++,e.next=14;break;case 29:o((function(e){return Qt(Qt({},e),{},{children:U(e.children||[],a,s)})})),0===c?G("No files were uploaded due to unsupported file types.","warning"):G("".concat(c," file(s) uploaded successfully from directory."),"success"),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(3),console.error("Directory upload error:",e.t1);case 36:case"end":return e.stop()}}),e,null,[[3,33],[16,23]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t){return Promise.race([e,new Promise((function(e,r){return setTimeout((function(){return r(new Error("Processing timeout"))}),t)}))])},X=function(){var e=Ut(Mt().mark((function e(t){var r,a,i,l,u,s,c,f,p,d,h,y,g,v,A,b,_,x,w,E,S,T,O;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=524288e3,a=100,i=12e4,0!==(l=t.target.files).length){e.next=6;break}return e.abrupt("return");case 6:if(!((u=l[0]).size>r)){e.next=10;break}return G("Zip file is too large.","error"),e.abrupt("return");case 10:return e.prev=10,e.next=13,Y(Oe().loadAsync(u),i);case 13:if(s=e.sent,!((c=Object.keys(s.files)).length>a)){e.next=18;break}return G("Zip file contains too many files. Maximum allowed is ".concat(a,"."),"error"),e.abrupt("return");case 18:if(f="folder"===(null==m?void 0:m.type)?m.id:"root",p=z(f,n.children||[]),d=new Set,c.forEach((function(e){var t=e.split("/");d.add(t[0])})),!((h=Array.from(d).filter((function(e){return $(n.children||[],e,f)}))).length>0)){e.next=27;break}return y=1===h.length?'Upload failed: An item named "'.concat(h[0],'" already exists at this location.'):"Upload failed: The following items already exist at this location: ".concat(h.join(", ")),G(y,"error"),e.abrupt("return");case 27:g=[],v=0,A=0,b=c;case 30:if(!(A<b.length)){e.next=55;break}if(_=b[A],!(x=s.files[_]).dir){e.next=35;break}return e.abrupt("continue",52);case 35:return e.next=37,new Promise((function(e){return setTimeout(e,0)}));case 37:return e.next=39,x.async("blob");case 39:return w=e.sent,E=_.split("/").pop(),S=new File([w],E,{lastModified:Date.now(),type:w.type}),e.prev=42,e.next=45,ze(S,q,(function(e,t){return G(e,t)}));case 45:(T=e.sent)&&(O=_.split("/"),T.relativePath=p?p+"/"+_:_,B(Wt(O),T,g),v++),e.next=52;break;case 49:e.prev=49,e.t0=e.catch(42),console.error("Error processing file ".concat(_,":"),e.t0);case 52:A++,e.next=30;break;case 55:o((function(e){return Qt(Qt({},e),{},{children:U(e.children||[],f,g)})})),G("".concat(v," file(s) uploaded from zip."),"success"),e.next=63;break;case 59:e.prev=59,e.t1=e.catch(10),console.error("Zip processing error:",e.t1),G("Failed to process zip file.","error");case 63:case"end":return e.stop()}}),e,null,[[10,59],[42,49]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){N(!1)},V=function(e){return!(!e.children||0===e.children.length)&&e.children.every((function(e){return"file"===e.type?t.has(e):"folder"===e.type&&V(e)}))},K=function(e,t){e.preventDefault(),d(t),f(null===c?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},Z=function(){f(null),d(null)},J=function(){O(!1)},ee=function(e){return l.createElement(P.A,null,e.map((function(e){return l.createElement(l.Fragment,{key:e.id},l.createElement(Ft.Ay,{button:!0,onClick:function(){return"folder"===e.type&&function(e){u((function(t){var r=new Set(t);return r.has(e.id)?r.delete(e.id):r.add(e.id),r}))}(e)},onContextMenu:function(t){return K(t,e)}},l.createElement(Ct.A,null,l.createElement(It.A,{edge:"start",checked:"folder"===e.type?V(e):t.has(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),function(e){r((function(t){var r=new Set(t),n=function(e){var t=[];return"file"===e.type?t.push(e):"folder"===e.type&&e.children&&e.children.forEach((function(e){t=t.concat(n(e))})),t},o=function(){var e,t=$t(r);try{for(t.s();!(e=t.n()).done;)return e.value.fileType}catch(e){t.e(e)}finally{t.f()}return null},a=function(e,t){if(r.has(e)&&!t)r.delete(e);else{var n=o();n&&n!==e.fileType?G("Selected files must have the same type.","error"):r.add(e)}};return function(e){if("file"===e.type)a(e,!1);else if("folder"===e.type){var t=n(e);if(0===t.length)return;var i=o();if(i){if(t.find((function(e){return e.fileType!==i})))return void G("Folder contains files of a different type from the selected files.","error")}else if(new Set(t.map((function(e){return e.fileType}))).size>1)return void G("Folder contains multiple file types. Please select files with the same type.","error");t.every((function(e){return r.has(e)}))?t.forEach((function(e){return r.delete(e)})):t.forEach((function(e){return a(e,!0)}))}}(e),r}))}(e)}})),l.createElement(Ct.A,null,"folder"===e.type?i.has(e.id)?l.createElement(dt.A,null):l.createElement(ht.A,null):l.createElement(yt.A,null)),l.createElement(D.A,{primary:e.name&&e.name.length>30?"".concat(e.name.substring(0,12),"...").concat(e.name.substring(e.name.length-7)):e.name}),l.createElement(kt.A,null,"file"===e.type&&l.createElement(he.A,{edge:"end",onClick:function(){return d(e),O(!0),void f(null)},style:{marginRight:"8px"}},l.createElement(gt.A,{fontSize:"small"})),l.createElement(he.A,{edge:"end",onClick:function(t){return K(t,e)}},l.createElement(vt.A,null)))),"folder"===e.type&&l.createElement(M.A,{in:i.has(e.id),timeout:"auto",unmountOnExit:!0},l.createElement(h.A,{ml:4},e.children&&ee(e.children))))})))};return l.createElement(j.A,{elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"}},l.createElement(h.A,{sx:{flexGrow:1,overflow:"auto"}},n.children&&n.children.length>0?ee(n.children):l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"80%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.createElement(E.A,{variant:"body1",sx:{padding:"16px",textAlign:"center"}},"The file manager is empty. Please upload files to appear here."))),l.createElement(Nt.A,{open:null!==c,onClose:Z,anchorReference:"anchorPosition",anchorPosition:null!==c?{top:c.mouseY,left:c.mouseX}:void 0},"folder"===(null==m?void 0:m.type)&&l.createElement(de.A,{onClick:function(){b.current.click()}},l.createElement(Ct.A,null,l.createElement(At.A,{fontSize:"small"})),l.createElement(D.A,null,"New File"),l.createElement("input",{type:"file",hidden:!0,multiple:!0,accept:R.join(","),onChange:Q,ref:b})),"folder"===(null==m?void 0:m.type)&&l.createElement(de.A,{onClick:function(){_.current.click()}},l.createElement(Ct.A,null,l.createElement(bt.A,{fontSize:"small"})),l.createElement(D.A,null,"New Folder"),l.createElement("input",{type:"file",webkitdirectory:"true",mozdirectory:"true",hidden:!0,multiple:!0,onChange:L,ref:_})),"folder"===(null==m?void 0:m.type)&&l.createElement(de.A,{onClick:function(){x.current.click()}},l.createElement(Ct.A,null,l.createElement(_t.A,{fontSize:"small"})),l.createElement(D.A,null,"New ZIP"),l.createElement("input",{type:"file",hidden:!0,accept:".zip",onChange:X,ref:x})),l.createElement(de.A,{onClick:function(){if(m){var e=function(t){return t.filter((function(e){return e.id!==m.id})).map((function(t){return t.children?Qt(Qt({},t),{},{children:e(t.children)}):t}))};if(o((function(t){return Qt(Qt({},t),{},{children:e(t.children||[])})})),"file"===m.type)r((function(e){var t=new Set(e);return t.has(m)&&t.delete(m),t}));else if("folder"===m.type){var t=function(e){var r=[];return e.children&&e.children.forEach((function(e){"file"===e.type?r.push(e):"folder"===e.type&&(r=r.concat(t(e)))})),r},n=t(m);r((function(e){var t=new Set(e);return n.forEach((function(e){t.has(e)&&t.delete(e)})),t}))}}Z()}},l.createElement(Ct.A,null,l.createElement(xt.A,{fontSize:"small"})),l.createElement(D.A,null,"Delete")),"file"===(null==m?void 0:m.type)&&l.createElement(de.A,{onClick:function(){N(!0)}},l.createElement(Ct.A,null,l.createElement(wt.A,{fontSize:"small"})),l.createElement(D.A,null,"File Info"))),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",gap:1,position:"sticky",bottom:0,right:0,backgroundColor:"white",margin:2,justifyContent:"flex-end",paddingBottom:1}},l.createElement(E.A,{variant:"caption",color:"textSecondary",sx:{marginRight:1}},t.size," file(s) selected"),l.createElement(g.A,{title:"Selected Files",placement:"top",PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}},l.createElement(he.A,{color:"primary",sx:{padding:"6px",backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"},color:"white"}},l.createElement(Et.A,{fontSize:"small"}),l.createElement(me.A,{displayEmpty:!0,sx:{position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0}},t.size>0?Array.from(t).map((function(e,t){return l.createElement(h.A,{key:t,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px"}},l.createElement(E.A,{variant:"body2",sx:{flexGrow:1,marginRight:"10px"}},e.name))})):l.createElement(E.A,{variant:"body2",sx:{padding:1,textAlign:"center",color:"gray"}},"No files selected")))),l.createElement(g.A,{title:"Upload Files",placement:"top",PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}},l.createElement(he.A,{color:"primary",component:"label",sx:{padding:"6px",backgroundColor:C?"primary.main":"grey.500","&:hover":{backgroundColor:C?"primary.dark":"grey.500"},cursor:C?"pointer":"not-allowed",color:"white"},disabled:!C},l.createElement(St.A,{fontSize:"small"}),l.createElement("input",{type:"file",hidden:!0,multiple:!0,accept:R.join(","),onChange:Q}))),l.createElement(g.A,{title:"Upload Folder",placement:"top",PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}},l.createElement(he.A,{color:"primary",component:"label",sx:{padding:"6px",backgroundColor:C?"primary.main":"grey.500","&:hover":{backgroundColor:C?"primary.dark":"grey.500"},cursor:C?"pointer":"not-allowed",color:"white"},disabled:!C},l.createElement(Tt.A,{fontSize:"small"}),l.createElement("input",{type:"file",webkitdirectory:"true",mozdirectory:"true",hidden:!0,multiple:!0,onChange:L}))),l.createElement(g.A,{title:"Upload Zip",placement:"top"},l.createElement(he.A,{color:"primary",component:"label",sx:{padding:"6px",backgroundColor:C?"primary.main":"grey.500","&:hover":{backgroundColor:C?"primary.dark":"grey.500"},cursor:C?"pointer":"not-allowed",color:"white"},disabled:!C},l.createElement(_t.A,{fontSize:"small"}),l.createElement("input",{type:"file",hidden:!0,accept:".zip",onChange:X})))),l.createElement(jt.A,{open:T,onClose:J,fullWidth:!0,maxWidth:"md"},l.createElement(qt.A,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"primary.main",color:"primary.contrastText"}},l.createElement(gt.A,null),"File Content: ",null!=m&&m.name&&m.name.length>40?"".concat(m.name.substring(0,25),"...").concat(m.name.substring(m.name.length-10)):null==m?void 0:m.name),l.createElement(Pt.A,{sx:{mt:2}},l.createElement(j.A,{elevation:3,sx:{p:2,bgcolor:"grey.100",maxHeight:"500px",overflowY:"auto","&:hover":{boxShadow:6}}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-all"}},(null==m?void 0:m.content)||"No content available"))),l.createElement(Gt.A,null,l.createElement(y.A,{onClick:J,color:"primary",variant:"contained",startIcon:l.createElement(Ot.A,null)},"Close"))),l.createElement(jt.A,{open:k,onClose:H,fullWidth:!0,maxWidth:"sm"},l.createElement(qt.A,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"primary.main",color:"primary.contrastText"}},l.createElement(wt.A,null)," File Information"),l.createElement(Pt.A,{sx:{mt:2}},m?l.createElement(h.A,null,l.createElement(w.Ay,{container:!0,spacing:2},l.createElement(w.Ay,{item:!0,xs:12,sm:6},l.createElement(E.A,{variant:"subtitle2",color:"text.secondary"},"Name"),l.createElement(E.A,{variant:"body1",gutterBottom:!0},null!=m&&m.name&&m.name.length>25?"".concat(m.name.substring(0,15),"...").concat(m.name.substring(m.name.length-7)):null==m?void 0:m.name)),l.createElement(w.Ay,{item:!0,xs:12,sm:6},l.createElement(E.A,{variant:"subtitle2",color:"text.secondary"},"Type"),l.createElement(E.A,{variant:"body1",gutterBottom:!0},m.fileType)),l.createElement(w.Ay,{item:!0,xs:12,sm:6},l.createElement(E.A,{variant:"subtitle2",color:"text.secondary"},"Size"),l.createElement(E.A,{variant:"body1",gutterBottom:!0},(m.size/1024).toFixed(2)," KB")),l.createElement(w.Ay,{item:!0,xs:12,sm:6},l.createElement(E.A,{variant:"subtitle2",color:"text.secondary"},"RelativePath"),l.createElement(E.A,{variant:"body1",gutterBottom:!0},m.relativePath)))):l.createElement(E.A,null,"Loading...")),l.createElement(Gt.A,null,l.createElement(y.A,{onClick:H,color:"primary",variant:"contained",startIcon:l.createElement(Ot.A,null)},"Close"))))};function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"==typeof e)return Zt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(e,t):void 0}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Jt=function(e){var t=e.tabIndex,r=e.setTabIndex,n=e.selectedFiles,o=e.setSelectedFiles,a=e.inputData,i=e.setInputData,u=e.tree,s=e.setTree,c=(0,l.useContext)(re),f=(0,l.useContext)(W),p=f.setInputDataType,m=f.validateData,d=f.inputDataType,y=Vt((0,l.useState)(!0),2),g=y[0],v=y[1],A=Vt((0,l.useState)(null),2),b=A[0],_=A[1],x=a.split("\n").length;return(0,l.useEffect)((function(){if(1===t){var e=new Set(Array.from(n).map((function(e){return e.fileType})));console.log(n),1===e.size?p(function(e){return function(e){if(Array.isArray(e))return Zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)[0]):p("UNKNOWN")}else p(Ae("input.txt",a))}),[t,n,p]),(0,l.useEffect)((function(){return function(){b&&clearTimeout(b)}}),[b]),l.createElement(j.A,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2,flexShrink:0}},l.createElement(h.A,{sx:{display:"flex",alignItems:"center"}},l.createElement(E.A,{variant:"h6"},"Input:"),l.createElement(E.A,{variant:"body1",color:"textSecondary",sx:{marginLeft:1}},d))),l.createElement(R.A,null),l.createElement(pt.A,{value:t,onChange:function(e,t){r(t)},variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{minHeight:64,fontWeight:"bold"}}},l.createElement(mt.A,{icon:l.createElement(ct.A,null),label:"CLI Mode",iconPosition:"start"}),l.createElement(mt.A,{icon:l.createElement(ft.A,null),label:"File Manager",iconPosition:"start"})),0===t&&l.createElement(h.A,null,l.createElement(h.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:2}},l.createElement(q.A,{variant:"outlined",value:a,onChange:function(e){var t=e.target.value;i(t),b&&clearTimeout(b);var r=setTimeout((function(){if(""===t.trim())return p("UNKNOWN"),void v(!0);var e=Ae("input.txt",t);p(e);var r=m(t,e);v(r),r||"UNKNOWN"===e||c("Invalid ".concat(e," data format."),"error")}),1e3);_(r)},placeholder:"e.g., >Sequence1\\nACGT...",InputProps:{multiline:!0,inputComponent:"textarea"},inputProps:{maxLength:1e5},rows:18,sx:{flexGrow:1,flexShrink:1,overflow:"auto",minHeight:"100px",whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"0.875rem"},error:!g&&"UNKNOWN"!==d,helperText:g||"UNKNOWN"===d?"":"The entered data does not conform to the expected ".concat(d," format.")})),l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:1,flexShrink:0,paddingX:2}},l.createElement(E.A,{variant:"caption",color:"textSecondary",sx:{marginRight:"auto"}},a.length,"/100000 characters, ",x," lines"))),1===t&&l.createElement(Ht,{selectedFiles:n,setSelectedFiles:o,tree:u,setTree:s}))};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ar(n.key),n)}}function rr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rr=function(){return!!e})()}function nr(e){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nr(e)}function or(e,t){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},or(e,t)}function ar(e){var t=function(e){if("object"!=er(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==er(t)?t:t+""}var ir,lr,ur,sr=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=nr(t),function(e,t){if(t&&("object"==er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rr()?Reflect.construct(t,r||[],nr(e).constructor):t.apply(e,r))}(this,t,[e])).state={hasError:!1,error:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&or(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(n=[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t),this.context&&this.context("Something went wrong: ".concat(e.message),"error")}},{key:"render",value:function(){return this.state.hasError?l.createElement(E.A,{color:"error"},"Something went wrong: ",this.state.error.message):this.props.children}}])&&tr(r.prototype,n),o&&tr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(l.Component);ir=sr,ur=re,(lr=ar(lr="contextType"))in ir?Object.defineProperty(ir,lr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):ir[lr]=ur;const cr=sr;var fr=r(3540),pr=r(4238),mr=r(3357),dr=r(7437);function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var yr,gr=(0,l.createContext)(),vr=function(e){var t=e.children,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.useState)({}),2),n=r[0],o=r[1];return l.createElement(gr.Provider,{value:{validationErrors:n,setValidationErrors:o}},t)},Ar=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return ye.Y.filter((function(n){return"gto_fasta_merge_streams"===n.name?function(e){return e.filter((function(e){return"fasta_split_streams"===e.toolName})).length>e.filter((function(e){return"fasta_merge_streams"===e.toolName})).length}(r):""===n.input.format&&t||n.input.format.includes(e)}))};function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return(t=function(e){var t=function(e){if("object"!=br(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==br(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Tr=function(e){var t=e.onAddOperation,r=e.isWorkflowEmpty,n=e.isLoading,o=e.setIsLoading,a=e.insertAtIndex,i=e.setInsertAtIndex,u=e.addingATool,s=e.setAddingATool,c=e.filteredTools,f=e.setFilteredTools,p=e.selectedFiles,m=e.tabIndex,d=e.workflow,v=Er((0,l.useState)(""),2),A=v[0],b=v[1],_=Er((0,l.useState)({}),2),x=_[0],w=_[1],S=(0,l.useContext)(W).dataType,T=(0,l.useContext)(re),O=(0,l.useContext)(gr).validationErrors,F=Object.values(O).some((function(e){return Object.keys(e).length>0})),C=1===m&&0===p.size,I=F||C,$=(0,l.useMemo)((function(){return z()((function(e){return b(e)}),300)}),[]),Q=function(e){return e.filter((function(e){return e.name.toLowerCase().includes(A.toLowerCase())||e.description.toLowerCase().includes(A.toLowerCase())}))},B=(0,l.useMemo)((function(){if(r){var e=Ar(S,r,d);return new Set(e.map((function(e){return e.name.replace(/^gto_/,"")})))}if(!S||"UNKNOWN"===S)return new Set;var t=Ar(S,r,d);return new Set(t.map((function(e){return e.name.replace(/^gto_/,"")})))}),[S,r,d]);(0,l.useEffect)((function(){if(null===a){var e={};Object.entries(oe).forEach((function(t){var r=Er(t,2),n=r[0],o=r[1];Q(o).filter((function(e){return B.has(e.name)})).length>0&&(e[n]=!0)})),w(e)}}),[A,B,a]),(0,l.useEffect)((function(){if(null!==a&&c.length>0){var e={};Object.entries(oe).forEach((function(t){var r=Er(t,2),n=r[0];r[1].filter((function(e){return c.some((function(t){return t.name==="gto_".concat(e.name)}))})).length>0&&(e[n]=!0)})),w(e)}}),[a,c]);var L=(0,dr.i7)(yr||(yr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0% {\n    transform: scale(1);\n    box-shadow: 0 0 0 rgba(0, 123, 255, 0.1);\n  }\n  50% {\n    transform: scale(1.01);\n    box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);\n  }\n  100% {\n    transform: scale(1);\n    box-shadow: 0 0 0 rgba(0, 123, 255, 0.1);\n  }\n"])));return l.createElement(j.A,{elevation:3,sx:{padding:2,height:"100%",display:"flex",flexDirection:"column",position:"relative"}},null!==a&&u&&l.createElement(h.A,{sx:{padding:2,marginBottom:2,backgroundColor:"rgba(0, 123, 255, 0.1)",border:"1px solid rgba(0, 123, 255, 0.3)",borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",animation:"".concat(L," 1.5s infinite ease-in-out")}},l.createElement(E.A,{variant:"body2",color:"textSecondary"},"Adding a new tool to the workflow. Click on a tool to insert it at the selected position or"," ",l.createElement(h.A,{component:"span",sx:{display:"inline-flex",alignItems:"center"}},l.createElement(y.A,{onClick:function(){i(null),s(!1),f([])},color:"primary",sx:{textTransform:"none",padding:0,minWidth:"auto"}},"cancel")),".")),n&&l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:1}},l.createElement(mr.A,null)),I&&l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:F?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.7)",zIndex:10,pointerEvents:"all",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},F&&l.createElement(l.Fragment,null,l.createElement(fr.A,{sx:{color:"error.main",fontSize:60}}),l.createElement(E.A,{variant:"body1",sx:{color:"error.main",textAlign:"center"}},"Correct the invalid parameters in the workflow to unlock the unavailable features."))),l.createElement(E.A,{variant:"h6",align:"center",gutterBottom:!0},"Available Tools"),l.createElement(q.A,{label:"Search Operations",variant:"outlined",size:"small",fullWidth:!0,onChange:function(e){$(e.target.value)},sx:{marginBottom:2}}),l.createElement(P.A,{sx:{overflowY:"auto",flexGrow:1}},Object.entries(oe).map((function(e){var r=Er(e,2),n=r[0],i=r[1],p=null!==a?i.filter((function(e){return c.some((function(t){return t.name==="gto_".concat(e.name)}))})):Q(i).filter((function(e){return B.has(e.name)}));return 0===p.length&&""!==A?null:l.createElement(l.Fragment,{key:n},l.createElement(G.A,{onClick:function(){return function(e){w((function(t){return xr(xr({},t),{},wr({},e,!t[e]))}))}(n)}},l.createElement(D.A,{primary:"".concat(n," (").concat(p.length,")")}),x[n]?l.createElement(k.A,null):l.createElement(N.A,null)),l.createElement(M.A,{in:x[n]||""!==A,timeout:"auto",unmountOnExit:!0},l.createElement(P.A,{component:"div",disablePadding:!0},p.map((function(e){return l.createElement(g.A,{key:e.name,title:l.createElement(l.Fragment,null,e.description.split("\n").map((function(e,t){return l.createElement(E.A,{key:t,variant:"body2",color:"inherit"},e)}))),placement:"right"},l.createElement(G.A,{sx:{pl:4,bgcolor:function(e){return(0,U.X4)(e.palette.primary.main,.2)},"&:hover":{bgcolor:function(e){return(0,U.X4)(e.palette.primary.main,.4)}}},onClick:function(){o(!0),null!==a&&u?(t(e.name,a),f([]),s(!1),T("Tool added successfully!","success")):t(e.name)}},l.createElement(D.A,{primary:e.name}),l.createElement(pr.A,{sx:{color:"primary.main",ml:"auto"}})))})))),l.createElement(R.A,null))}))))};var Or=r(3627),Fr=r(5916),Cr=r(1268),Ir=r(6566),kr=r(6740),Nr=r(5629),jr=r(4433);function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dr(e,t,r){return(t=function(e){var t=function(e){if("object"!=qr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mr={"Multi-FASTA":"fa",FASTA:"fa",FASTQ:"fq",POS:"pos",SVG:"svg",NUM:"num",DNA:"txt",RNA:"txt",AminoAcids:"txt",text:"txt"},Rr=function(e,t,r,n,o,a,i){var l,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;if(0!==e.length){var p=null!==s?e.slice(0,s+1):e,m="input.".concat(Mr[r]||"txt"),d=null===(l=p[p.length-1])||void 0===l?void 0:l.id,h=(null==n?void 0:n[d])||"",y="output.".concat(Mr[Ae("output.txt",h)]||"txt"),g=p.map((function(e,t){var r=ye.Y.find((function(t){return"gto_".concat(e.toolName)===t.name}));if(!r)return"";var n=r.flags.map((function(t){var r=e.params[t.parameter];return r?"".concat(t.flag," ").concat(r):t.flag&&e.params[t.flag]?t.flag:null})).filter(Boolean).join(" "),o="./gto_".concat(e.toolName," ").concat(n);return 0===t?"".concat(o," < ").concat(m):"".concat(o)})),v="".concat(g.join(" || ")," > ").concat(y);if(u)return v;var A=["#!/bin/bash\n\n# Auto-generated Workflow Script"];A.push("# Create output directory"),A.push('OUTPUT_DIR="workflow_output"'),A.push("DIR_COUNTER=1"),A.push('while [ -d "$OUTPUT_DIR" ]; do'),A.push('  OUTPUT_DIR="workflow_output_$DIR_COUNTER"'),A.push("  DIR_COUNTER=$((DIR_COUNTER + 1))"),A.push("done"),A.push('mkdir -p "$OUTPUT_DIR"'),A.push(""),A.push("# Create temporary directory for intermediate files"),A.push("TEMP_DIR=$(mktemp -d)"),A.push(""),A.push('echo "Searching for the GTO binary directory..."'),A.push('GTO_BIN_DIR=$(find / -type d -name "bin" 2>/dev/null | grep "/gto/bin" | head -n 1)'),A.push('if [ -z "$GTO_BIN_DIR" ]; then'),A.push('  echo "GTO binary directory not found. Cloning GTO repository..."'),A.push('  git clone git@github.com:cobilab/gto.git ~/gto || { echo "Failed to clone GTO repository. Exiting."; exit 1; }'),A.push('  GTO_BIN_DIR=$(find ~/gto -type d -name "bin" 2>/dev/null | head -n 1)'),A.push("fi"),A.push('if [ -z "$GTO_BIN_DIR" ]; then'),A.push('  echo "Error: GTO binary directory not found even after cloning. Exiting."; exit 1;'),A.push("fi"),A.push('echo "GTO binary directory found: $GTO_BIN_DIR"\n'),A.push('echo -e "\\nWorkflow to be executed:"');var b=p.map((function(e,t){var r=ye.Y.find((function(t){return"gto_".concat(e.toolName)===t.name}));if(!r)return"";var n=r.flags.map((function(t){var r=e.params[t.parameter];return r?"".concat(t.flag," ").concat(r):t.flag&&e.params[t.flag]?t.flag:null})).filter(Boolean).join(" "),o=0===t?"<input_file>":"";return"gto_".concat(e.toolName," ").concat(n," ").concat(o)})).join(" | ");if(A.push('echo "'.concat(b,'"')),A.push("while true; do"),A.push('  echo -n "Do you wish to execute this workflow? (y/n) "'),A.push("  read confirm"),A.push("  case $confirm in"),A.push("    [Yy]* ) break;;"),A.push('    [Nn]* ) echo "Exiting..."; exit 0;;'),A.push('    * ) echo "Please answer y or n.";;'),A.push("  esac"),A.push("done\n"),1===c&&f&&f.size>0){A.push("# Check if a directory path was provided as an argument"),A.push('FILES_DIRECTORY="$1"'),A.push("ORIGINAL_DIR=$(pwd)"),A.push('OUTPUT_DIR_ABS="$ORIGINAL_DIR/$OUTPUT_DIR"'),A.push(""),A.push("# Handle directory path or zip file"),A.push('if [ -n "$FILES_DIRECTORY" ]; then'),A.push('  if [ -d "$FILES_DIRECTORY" ]; then'),A.push('    echo "Using provided directory: $FILES_DIRECTORY"'),A.push('    cd "$FILES_DIRECTORY" || { echo "Error: Cannot access the specified directory"; exit 1; }'),A.push('    VALID_EXTENSION="'.concat(Mr[r]||"txt",'"')),A.push("    FILES_TO_PROCESS=($(ls *.$VALID_EXTENSION 2>/dev/null))"),A.push("    if [ ${#FILES_TO_PROCESS[@]} -eq 0 ]; then"),A.push('      echo "No .$VALID_EXTENSION files found in the specified directory. Exiting."'),A.push("      exit 1"),A.push("    fi"),A.push('    echo "Found ${#FILES_TO_PROCESS[@]} .$VALID_EXTENSION files in the directory:"'),A.push('    for file in "${FILES_TO_PROCESS[@]}"; do'),A.push('      echo "  - $file"'),A.push("    done"),A.push('  elif [ -f "$FILES_DIRECTORY" ] && [[ "$FILES_DIRECTORY" == *.zip ]]; then'),A.push('    echo "Extracting zip file: $FILES_DIRECTORY"'),A.push("    # Create temporary directory for zip extraction"),A.push("    ZIP_TEMP_DIR=$(mktemp -d)"),A.push("    # Extract zip file"),A.push('    unzip -q "$FILES_DIRECTORY" -d "$ZIP_TEMP_DIR" || { echo "Error: Failed to extract zip file"; rm -rf "$ZIP_TEMP_DIR"; exit 1; }'),A.push('    echo "Changing to extracted directory"'),A.push('    cd "$ZIP_TEMP_DIR" || { echo "Error: Cannot access the extracted directory"; rm -rf "$ZIP_TEMP_DIR"; exit 1; }'),A.push('    VALID_EXTENSION="'.concat(Mr[r]||"txt",'"')),A.push("    FILES_TO_PROCESS=($(ls *.$VALID_EXTENSION 2>/dev/null))"),A.push("    if [ ${#FILES_TO_PROCESS[@]} -eq 0 ]; then"),A.push('      echo "No .$VALID_EXTENSION files found in the zip file. Exiting."'),A.push('      rm -rf "$ZIP_TEMP_DIR"'),A.push("      exit 1"),A.push("    fi"),A.push('    echo "Found ${#FILES_TO_PROCESS[@]} .$VALID_EXTENSION files in the zip:"'),A.push('    for file in "${FILES_TO_PROCESS[@]}"; do'),A.push('      echo "  - $file"'),A.push("    done"),A.push("  else"),A.push('    echo "Error: The specified path is neither a directory nor a zip file: $FILES_DIRECTORY"'),A.push("    exit 1"),A.push("  fi"),A.push("else"),A.push('  echo "WARNING: No directory path provided. Using the current directory."'),A.push('  echo "You can specify a directory path by running: $0 /path/to/directory"'),A.push(""),A.push("  # Ask user if they want to use pre-selected files or choose their own"),A.push('  echo -e "\\nPre-selected files from the UI:"');var _=Array.from(f);_.forEach((function(e){A.push('  echo "  - '.concat(e.name,'"'))})),A.push(""),A.push("  while true; do"),A.push('    echo "Do you want to:"'),A.push('    echo "1) Use the pre-selected files from the UI"'),A.push('    echo "2) Choose your own files from the current directory"'),A.push('    read -p "Enter your choice (1 or 2): " file_choice'),A.push("    case $file_choice in"),A.push("      1)"),A.push('        echo "Using pre-selected files from the UI..."'),A.push("        FILES_TO_PROCESS=("),_.forEach((function(e){A.push('          "'.concat(e.name,'"'))})),A.push("        )"),A.push("        break;;"),A.push("      2)"),A.push('        echo "Choose your own files from the current directory:"'),A.push('        echo "Available files:"'),A.push('        VALID_EXTENSION="'.concat(Mr[r]||"txt",'"')),A.push('        ls -1 *.$VALID_EXTENSION 2>/dev/null || echo "No .$VALID_EXTENSION files found"'),A.push('        echo "Enter the names of the files you want to process (one per line, press Enter twice when done):"'),A.push("        FILES_TO_PROCESS=()"),A.push("        while true; do"),A.push('          read -p "File name (or press Enter to finish): " file_name'),A.push('          if [ -z "$file_name" ]; then'),A.push("            break"),A.push("          fi"),A.push('          if [ -f "$file_name" ]; then'),A.push('            FILES_TO_PROCESS+=("$file_name")'),A.push("          else"),A.push('            echo "File not found: $file_name"'),A.push("          fi"),A.push("        done"),A.push("        if [ ${#FILES_TO_PROCESS[@]} -eq 0 ]; then"),A.push('          echo "No files selected. Exiting."'),A.push("          exit 1"),A.push("        fi"),A.push("        break;;"),A.push("      *)"),A.push('        echo "Invalid choice. Please enter 1 or 2.";;'),A.push("    esac"),A.push("  done"),A.push("fi"),A.push(""),A.push("# Processing input files"),A.push('\necho "Starting batch processing of files..."\n'),A.push("# Initialize counters for processed and missing files"),A.push("processed_files=0"),A.push("missing_files=0"),A.push(""),A.push('for file in "${FILES_TO_PROCESS[@]}"; do'),A.push("  # Check if file exists"),A.push('  if [ -f "$file" ]; then'),A.push('    echo "Processing file: $file"'),A.push("    # Execute workflow for $file"),A.push("    # Create temporary directory for intermediate files"),A.push("    TEMP_DIR=$(mktemp -d)"),A.push('    echo "Created temporary directory: $TEMP_DIR"');var x=p[0],w=ye.Y.find((function(e){return"gto_".concat(x.toolName)===e.name})),E=w.flags.map((function(e){var t=x.params[e.parameter];return t?"".concat(e.flag," ").concat(t):e.flag&&x.params[e.flag]?e.flag:null})).filter(Boolean).join(" ");w.is_multi_output?(A.push("    # First tool is multi-output"),A.push('    mkdir -p "$TEMP_DIR/output_tool_1"'),A.push("    $GTO_BIN_DIR/gto_".concat(x.toolName," ").concat(E,' < "$file" -l "$TEMP_DIR/output_tool_1"')),A.push('    output_files_1=($(ls "$TEMP_DIR/output_tool_1"))')):A.push("    $GTO_BIN_DIR/gto_".concat(x.toolName," ").concat(E,' < "$file" > "$TEMP_DIR/temp_output_1.txt"'));for(var S=function(){var e=p[T],t=ye.Y.find((function(t){return"gto_".concat(e.toolName)===t.name})),r=t.flags.map((function(t){var r=e.params[t.parameter];return r?"".concat(t.flag," ").concat(r):t.flag&&e.params[t.flag]?t.flag:null})).filter(Boolean).join(" "),n=p[T-1],o=ye.Y.find((function(e){return"gto_".concat(n.toolName)===e.name}));o.is_multi_output?(A.push("    # Previous tool was multi-output, processing each file"),A.push('    mkdir -p "$TEMP_DIR/output_tool_'.concat(T+1,'"')),A.push('    for split_file in "${output_files_'.concat(T,'[@]}"; do')),t.is_multi_output?(A.push('      mkdir -p "$TEMP_DIR/output_tool_'.concat(T+1,'/$split_file"')),A.push("      $GTO_BIN_DIR/gto_".concat(e.toolName," ").concat(r,' < "$TEMP_DIR/output_tool_').concat(T,'/$split_file" -l "$TEMP_DIR/output_tool_').concat(T+1,'/$split_file"'))):A.push("      $GTO_BIN_DIR/gto_".concat(e.toolName," ").concat(r,' < "$TEMP_DIR/output_tool_').concat(T,'/$split_file" > "$TEMP_DIR/output_tool_').concat(T+1,'/$split_file"')),A.push("    done"),A.push("    output_files_".concat(T+1,'=($(ls "$TEMP_DIR/output_tool_').concat(T+1,'"))'))):t.is_multi_output?(A.push("    # Current tool is multi-output"),A.push('    mkdir -p "$TEMP_DIR/output_tool_'.concat(T+1,'"')),A.push("    $GTO_BIN_DIR/gto_".concat(e.toolName," ").concat(r,' < "$TEMP_DIR/temp_output_').concat(T,'.txt" -l "$TEMP_DIR/output_tool_').concat(T+1,'"')),A.push("    output_files_".concat(T+1,'=($(ls "$TEMP_DIR/output_tool_').concat(T+1,'"))'))):A.push("    $GTO_BIN_DIR/gto_".concat(e.toolName," ").concat(r,' < "$TEMP_DIR/temp_output_').concat(T,'.txt" > "$TEMP_DIR/temp_output_').concat(T+1,'.txt"'))},T=1;T<p.length;T++)S();var O=p[p.length-1],F=ye.Y.find((function(e){return"gto_".concat(O.toolName)===e.name})),C=F.flags.map((function(e){var t=O.params[e.parameter];return t?"".concat(e.flag," ").concat(t):e.flag&&O.params[e.flag]?e.flag:null})).filter(Boolean).join(" ");if(F.is_multi_output)A.push("    # Last tool was multi-output, copying all output files"),A.push('    mkdir -p "$OUTPUT_DIR_ABS/$file"'),A.push('    cp -r "$TEMP_DIR/output_tool_'.concat(p.length,'"/* "$OUTPUT_DIR_ABS/$file/"')),A.push('    echo "Output saved to: $OUTPUT_DIR_ABS/$file/"');else{var I=p[p.length-2],k=ye.Y.find((function(e){return"gto_".concat(I.toolName)===e.name}));if(k.is_multi_output)A.push("    # Previous tool was multi-output, processing each file"),A.push('    mkdir -p "$OUTPUT_DIR_ABS/$file"'),A.push('    for split_file in "${output_files_'.concat(p.length-1,'[@]}"; do')),A.push("      $GTO_BIN_DIR/gto_".concat(O.toolName," ").concat(C,' < "$TEMP_DIR/output_tool_').concat(p.length-1,'/$split_file" > "$OUTPUT_DIR_ABS/$file/$split_file"')),A.push("    done"),A.push('    echo "Output saved to: $OUTPUT_DIR_ABS/$file/"');else{var N=Ae("output.txt",null==n?void 0:n[O.id])||"text",j=Mr[N]||"txt";A.push('    mkdir -p "$OUTPUT_DIR_ABS/$file"'),A.push('    mv "$TEMP_DIR/temp_output_'.concat(p.length,'.txt" "$OUTPUT_DIR_ABS/$file/output.').concat(j,'"')),A.push('    echo "Output saved to: $OUTPUT_DIR_ABS/$file/output.'.concat(j,'"'))}}A.push('    rm -rf "$TEMP_DIR"'),A.push("    processed_files=$((processed_files+1))"),A.push("  else"),A.push('    echo "WARNING: File $file not found. Skipping."'),A.push("    missing_files=$((missing_files+1))"),A.push("  fi"),A.push("done"),A.push("\n# Display processing summary"),A.push('echo -e "\\nBatch processing completed."'),A.push('echo "Files processed: $processed_files"'),A.push('echo "Files missing: $missing_files"'),A.push(""),A.push(""),A.push("# Return to original directory if it was changed"),A.push('if [ -n "$FILES_DIRECTORY" ]; then'),A.push('  cd "$ORIGINAL_DIR" || echo "Warning: Could not return to original directory"'),A.push("fi"),A.push(""),A.push("# Cleanup zip temporary directory if it exists"),A.push('if [ -n "$ZIP_TEMP_DIR" ] && [ -d "$ZIP_TEMP_DIR" ]; then'),A.push('  echo "Cleaning up temporary zip extraction directory..."'),A.push('  rm -rf "$ZIP_TEMP_DIR"'),A.push("fi"),A.push('\necho "Batch processing completed."')}else{var q="input.".concat(Mr[r]||"txt");A.push('defaultInputFile="'.concat(q,'"')),A.push('echo -e "'.concat(t.replace(/\n/g,"\\n"),'" > "$defaultInputFile"')),A.push('echo -e "\\nDefault input file:"'),A.push('file_size=$(wc -c < "$defaultInputFile")'),A.push('if [ "$file_size" -gt 300 ]; then'),A.push('  head -c 100 "$defaultInputFile"; echo "..."'),A.push("else"),A.push('  cat "$defaultInputFile"'),A.push("fi"),A.push("while true; do"),A.push('  echo -n "Do you wish to change the input file? (y/n) "'),A.push("  read changeInput"),A.push("  case $changeInput in"),A.push("    [Yy]* ) break;;"),A.push('    [Nn]* ) echo "Using default input file..."; break;;'),A.push('    * ) echo "Please answer y or n.";;'),A.push("  esac"),A.push("done"),A.push('if [ "$changeInput" = "y" ]; then'),A.push('  echo "Please provide an input file (press Enter to use the default):"'),A.push("  read userInputFile"),A.push('  if [ -z "$userInputFile" ]; then'),A.push('    echo "Using default input file."'),A.push('    inputFile="$defaultInputFile"'),A.push("  else"),A.push('    if [ ! -f "$userInputFile" ]; then'),A.push('      echo "Provided file does not exist. Exiting."'),A.push("      exit 1"),A.push("    fi"),A.push('    inputFile="$userInputFile"'),A.push("  fi"),A.push("else"),A.push('  inputFile="$defaultInputFile"'),A.push("fi"),A.push('echo -e "\\nExecuting the workflow..."'),A.push('previousOutput="$inputFile"'),p.forEach((function(e,t){var r=ye.Y.find((function(t){return"gto_".concat(e.toolName)===t.name})),o=t===p.length-1;if(r){var a="$GTO_BIN_DIR/gto_".concat(e.toolName),i=r.flags.map((function(t){var r=e.params[t.parameter];return r?"".concat(t.flag," ").concat(r):t.flag&&e.params[t.flag]?t.flag:null})).filter(Boolean).join(" ");if(A.push("# Step ".concat(t+1,": ").concat(e.toolName)),i?A.push('echo -e "\\nRunning '.concat(e.toolName," with flags: ").concat(i,'"')):A.push('echo -e "\\nRunning '.concat(e.toolName,' with no flags"')),r.is_multi_output){var l=o?"$OUTPUT_DIR":"$TEMP_DIR";A.push('mkdir -p "'.concat(l,"/output_tool_").concat(t+1,'"')),A.push("".concat(a," ").concat(i,' < "$previousOutput" -l "').concat(l,"/output_tool_").concat(t+1,'"')),A.push("output_files_".concat(t+1,'=($(ls "').concat(l,"/output_tool_").concat(t+1,'"))')),A.push('for file in "${output_files_'.concat(t+1,'[@]}"; do')),A.push('  echo -e "\\nProcessing output file $file:"'),A.push('  cat "'.concat(l,"/output_tool_").concat(t+1,'/$file"')),A.push("done"),A.push('previousOutput="'.concat(l,"/output_tool_").concat(t+1,'"'))}else{var u=t>0?ye.Y.find((function(e){return"gto_".concat(p[t-1].toolName)===e.name})):null;if(u&&u.is_multi_output){var s=o?"$OUTPUT_DIR":"$TEMP_DIR";A.push('for file in "${output_files_'.concat(t,'[@]}"; do')),A.push('  echo -e "\\nProcessing file $file with '.concat(e.toolName,':"')),A.push("  ".concat(a," ").concat(i,' < "$TEMP_DIR/output_tool_').concat(t,'/$file" > "').concat(s,"/output_tool_").concat(t+1,'_${file}"')),A.push('  echo -e "Output for $file:"'),A.push('  cat "'.concat(s,"/output_tool_").concat(t+1,'_${file}"')),A.push("done"),A.push('previousOutput="'.concat(s,"/output_tool_").concat(t+1,'"'))}else{var c=Ae("output.txt",null==n?void 0:n[e.id])||"text",f=Mr[c]||"txt",m="output_tool_".concat(t+1,".").concat(f),d=o?"$OUTPUT_DIR":"$TEMP_DIR";A.push("".concat(a," ").concat(i,' < "$previousOutput" > "').concat(d,"/").concat(m,'"')),A.push('echo -e "Output of '.concat(e.toolName,':"')),A.push('cat "'.concat(d,"/").concat(m,'"')),A.push('echo -e ""'),A.push('previousOutput="'.concat(d,"/").concat(m,'"'))}}}else console.error("Tool configuration for ".concat(e.toolName," not found."))})),A.push('echo -e "\\nWorkflow execution completed.\\n"'),A.push('echo "Outputs have been saved in directory: $OUTPUT_DIR"'),A.push("# Cleanup temporary files and directory"),A.push('rm -rf "$TEMP_DIR"'),A.push('rm "$defaultInputFile"')}var P=new Blob([A.join("\n")],{type:"text/plain"}),G=document.createElement("a");G.href=URL.createObjectURL(P),G.download="".concat(o,".sh")||0,document.body.appendChild(G),G.click(),document.body.removeChild(G),a("Workflow exported successfully!","success"),i(!1)}else a("Cannot export an empty workflow.","error")};function Ur(){Ur=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==$r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError($r(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function zr(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function Qr(e,t,r,n,o,a,i,l){return Br.apply(this,arguments)}function Br(){var e;return e=Ur().mark((function e(t,r,n,o,a,i,l,u){var s,c,f,p,m,d,h,y,g,v,A,b;return Ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.findIndex((function(e){return e.id===t.id})),f=-1,p=null,m=c-1;case 4:if(!(m>=0)){e.next=22;break}if("fasta_split_streams"!==n[m].toolName){e.next=19;break}d=!1,h=m+1;case 8:if(!(h<c)){e.next=15;break}if("fasta_merge_streams"!==n[h].toolName){e.next=12;break}return d=!0,e.abrupt("break",15);case 12:h++,e.next=8;break;case 15:if(d){e.next=19;break}return f=m,p=n[m],e.abrupt("break",22);case 19:m--,e.next=4;break;case 22:if(p){e.next=24;break}throw new Error("fasta_merge_streams requires an unmatched fasta_split_streams tool earlier in the workflow");case 24:if(y=null===(s=o[0===i?"ManualInput":l])||void 0===s?void 0:s[p.id],g=a[p.id],y&&"object"===$r(y)){e.next=29;break}throw new Error("Could not find valid fasta_split_streams output");case 29:if(g){e.next=31;break}throw new Error("No output type selected for fasta_split_streams");case 31:return v={headers:y.headers||"",extra:y.extra||"",dna:y.dna||""},"string"==typeof r&&(v[g]=r),A={headers:{name:"HEADERS.JV2",data:v.headers},extra:{name:"EXTRA.JV2",data:v.extra},dna:{name:"DNA.JV2",data:v.dna}},console.log("fasta_merge_streams: Using file-based input with updated ".concat(g," from fasta_split_streams at index ").concat(f)),e.next=37,u(A,[]);case 37:return b=e.sent,e.abrupt("return",b);case 39:case"end":return e.stop()}}),e)})),Br=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){zr(a,n,o,i,l,"next",e)}function l(e){zr(a,n,o,i,l,"throw",e)}i(void 0)}))},Br.apply(this,arguments)}function Wr(e){return"fasta_merge_streams"===e.toolName}var Lr={FASTA:".fasta","Multi-FASTA":".fasta",FASTQ:".fastq",DNA:".txt",RNA:".txt",AminoAcids:".txt",SVG:".svg",POS:".pos",NUM:".num",BIN:".bin",UNKNOWN:".txt",Group:".txt"},Yr=function(e){return Lr[e]||".txt"};function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){Zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Hr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jr(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tn,rn=r(4979),nn=r(5590),on=r(7867),an=r(1249),ln=r(891);function un(e){var t=e.messages,r=void 0===t?{}:t,n=r.info,o=void 0===n?[]:n,a=r.error,i=void 0===a?[]:a;if(0===o.length&&0===i.length)return null;var u=(0,dr.i7)(tn||(tn=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    0%, 100% { transform: scale(1); }\n    50%     { transform: scale(1.15); }\n  "])));return l.createElement(h.A,{display:"flex",alignItems:"center",ml:1},o.length>0&&l.createElement(g.A,{title:l.createElement(h.A,null,l.createElement(E.A,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Info"),o.map((function(e,t){return l.createElement(E.A,{key:"info-".concat(t),variant:"body2"},e)}))),arrow:!0},l.createElement(h.A,{component:"span",sx:{animation:"".concat(u," 2s ease-in-out infinite"),display:"flex",alignItems:"center",mr:.5}},l.createElement(ln.A,{color:"info",fontSize:"small"}))),i.length>0&&l.createElement(g.A,{title:l.createElement(h.A,null,l.createElement(E.A,{variant:"subtitle2",sx:{fontWeight:"bold"}},"Errors"),i.map((function(e,t){return l.createElement(E.A,{key:"error-".concat(t),variant:"body2"},e)}))),arrow:!0},l.createElement(h.A,{component:"span",sx:{animation:"".concat(u," 2s ease-in-out infinite"),display:"flex",alignItems:"center",mr:.5}},l.createElement(an.A,{color:"error",fontSize:"small"}))))}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sn.apply(null,arguments)}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const pn=function(e){var t=e.id,r=e.toolName,n=e.onDelete,o=e.onDeleteFromHere,a=e.children,i=e.isDragging,u=e.isInvalid,s=e.helpMessage,c=e.workflowLength,f=e.onPartialSave,p=e.toolMessageMap,m=(0,Or.gl)({id:t}),d=m.attributes,v=m.listeners,A=m.setNodeRef,b=m.transform,_=(m.transition,cn((0,l.useState)(null),2)),x=_[0],w=_[1],S=cn((0,l.useState)(!1),2),T=S[0],O=S[1],F=cn((0,l.useState)(null),2),C=(F[0],F[1]),I=p||{info:[],error:[]},k=function(){w(null)},N=function(){O(!1),C(null)};return l.createElement(j.A,sn({ref:A,elevation:1},d,v,{sx:{transform:rn.Ks.Transform.toString(b),transition:"transform 150ms ease, background-color 300ms ease, border-color 300ms ease",marginBottom:"8px",padding:"8px",borderRadius:"4px",cursor:"grab",backgroundColor:i?"rgba(255, 255, 255, 0.8)":u?"rgba(255, 0, 0, 0.1)":"white",border:u?"1px solid red":"1px solid transparent",opacity:i?.8:1}}),l.createElement(h.A,{sx:{display:"flex",alignItems:"center"}},l.createElement(nn.A,{sx:{marginRight:1,color:"text.secondary"}}),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",flexGrow:1}},l.createElement(E.A,{variant:"body1"},r),l.createElement(un,{messages:I,sx:{marginLeft:1}})),l.createElement(g.A,{title:l.createElement("pre",{style:{whiteSpace:"pre-wrap"}},s||"Loading help..."),arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:"none"}}}},l.createElement(he.A,{size:"small",sx:{marginLeft:1}},l.createElement(je.A,{fontSize:"small"}))),l.createElement(g.A,{title:"Save Output"},l.createElement(he.A,{onClick:f,size:"small"},l.createElement(kr.A,null))),l.createElement(g.A,{title:"Delete Operation"},l.createElement(he.A,{onClick:function(e){w(e.currentTarget)},size:"small"},l.createElement(xt.A,{fontSize:"small"}))),l.createElement(Nt.A,{anchorEl:x,open:Boolean(x),onClose:k},l.createElement(de.A,{onClick:function(){n(t)}},"Remove this operation"),c>1&&l.createElement(de.A,{onClick:function(){k(),C(undefined),O(!0)}},"Remove from here downwards"))),a,l.createElement(jt.A,{open:T,onClose:N},l.createElement(qt.A,null,"Confirm Deletion"),l.createElement(Pt.A,null,l.createElement(on.A,null,"Are you sure you want to delete this operation and all subsequent ones? This action cannot be undone.")),l.createElement(Gt.A,null,l.createElement(y.A,{onClick:N,color:"primary"},"Cancel"),l.createElement(y.A,{onClick:function(){o(t),N()},color:"secondary",autoFocus:!0},"Confirm"))))};function mn(e){throw new TypeError('"'+e+'" is read-only')}function dn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=On(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function hn(e){return Cn(e)||vn(e)||On(e)||Tn()}function yn(){yn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,o){var a=r&&r.prototype instanceof p?r:p,i=Object.create(a.prototype);return u(i,"_invoke",function(t,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=_(l,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var s=c(t,r,n);if("normal"===s.type){if(o=n.done?4:2,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(o||[])),!0),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};u(h,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==r&&n.call(g,a)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,a,i,l){var u=c(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==An(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var o;u(this,"_invoke",(function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function _(t,r){var n=r.method,o=t.i[n];if(o===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(o,t.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function S(t){if(null!=t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(An(t)+" is not iterable")}return m.prototype=d,u(v,"constructor",d),u(d,"constructor",m),m.displayName=u(d,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},A(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(v),u(v,l,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],l=this.prev,u=a[1],s=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var o=n.arg;w(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function gn(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||vn(e)||On(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function bn(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function _n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){bn(a,n,o,i,l,"next",e)}function l(e){bn(a,n,o,i,l,"throw",e)}i(void 0)}))}}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function En(e,t,r){return(t=function(e){var t=function(e){if("object"!=An(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==An(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sn(e,t){return Cn(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||On(e,t)||Tn()}function Tn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function On(e,t){if(e){if("string"==typeof e)return Fn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fn(e,t):void 0}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cn(e){if(Array.isArray(e))return e}function In(e){var t={info:[],error:[]};return e.split("\n").filter(Boolean).forEach((function(e){/error/i.test(e.trim())?t.error.push(e):t.info.push(e)})),t}const kn=function(e){var t,r,n,o,a,i,u,s,c,f,p,m,d,v=e.workflow,A=e.setWorkflow,b=e.inputData,_=e.setInputData,x=(e.isLoading,e.setIsLoading),w=e.insertAtIndex,S=e.setInsertAtIndex,T=e.setAddingATool,O=e.setFilteredTools,C=e.selectedFiles,I=e.setSelectedFiles,k=e.tabIndex,N=e.setTabIndex,P=(e.tree,e.setTree),G=Sn((0,l.useState)(null),2),D=G[0],U=G[1],$=(0,l.useContext)(W),z=$.setDataType,Q=$.dataType,B=$.inputDataType,L=$.setInputDataType,Y=Sn((0,l.useState)([]),2),X=Y[0],V=Y[1],K=Sn((0,l.useState)((function(){var e=localStorage.getItem("outputMap");return e?JSON.parse(e):{}})),2),Z=K[0],J=K[1],ee=Sn((0,l.useState)({}),2),te=ee[0],ne=ee[1],oe=(0,l.useContext)(gr),ae=oe.validationErrors,ie=oe.setValidationErrors,le=Sn((0,l.useState)({}),2),ue=le[0],se=le[1],ce=Sn((0,l.useState)("my_workflow"),2),fe=ce[0],pe=ce[1],ge=Sn((0,l.useState)(!1),2),ve=ge[0],be=ge[1],_e=Sn((0,l.useState)(""),2),xe=_e[0],we=_e[1],Te=Sn((0,l.useState)(!1),2),Fe=Te[0],Ce=Te[1],Ie=Sn((0,l.useState)(""),2),ke=Ie[0],qe=Ie[1],De=Sn((0,l.useState)(""),2),Me=De[0],Re=De[1],Ue=Sn((0,l.useState)((function(){var e=localStorage.getItem("expandedTools");return e?JSON.parse(e):[]})),2),$e=Ue[0],Qe=Ue[1],Be=Sn((0,l.useState)({}),2),We=Be[0],Le=Be[1],Ye=Sn((0,l.useState)({}),2),Xe=Ye[0],He=Ye[1],Ve=Sn((0,l.useState)({}),2),Ke=Ve[0],Ze=Ve[1],Je=Sn((0,l.useState)("command"),2),et=Je[0],tt=Je[1],rt=Sn((0,l.useState)(null),2),nt=rt[0],ot=rt[1],at=Sn((0,l.useState)(null),2),it=at[0],lt=at[1],ut=Sn((0,l.useState)(!1),2),st=ut[0],ct=ut[1],ft=Sn((0,l.useState)(""),2),ht=ft[0],yt=ft[1],vt=Sn((0,l.useState)({}),2),At=vt[0],bt=vt[1],_t=Sn((0,l.useState)((function(){var e=localStorage.getItem("selectedOutputTypes");return e?JSON.parse(e):{}})),2),xt=_t[0],wt=_t[1],Et=(0,l.useContext)(W).validateData,Tt=(0,l.useContext)(re),Ot=l.useMemo((function(){return 1===k?ht?Z[ht]:{}:Z.ManualInput||{}}),[k,ht,Z]),Ft=l.useMemo((function(){return 0===k?[{id:"ManualInput",content:b}]:Array.from(C)}),[k,b,C]),Ct=(0,Ne.FR)((0,Ne.MS)(Ne.cA,{activationConstraint:{distance:5}}),(0,Ne.MS)(Ne.IG,{activationConstraint:{delay:250,tolerance:5}}));(0,l.useEffect)((function(){var e=Z.ManualInput?{ManualInput:Z.ManualInput}:{},t={ManualInput:{}},r=v.findIndex((function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.toolName)}));return t&&"file"===t.input.type}));Object.entries(e.ManualInput||{}).forEach((function(e){var n=Sn(e,2),o=n[0],a=n[1],i=v.findIndex((function(e){return e.id===o}));(i<r||-1===r)&&(t.ManualInput[o]=a)})),localStorage.setItem("outputMap",JSON.stringify(t))}),[Z]),(0,l.useEffect)((function(){localStorage.setItem("expandedTools",JSON.stringify($e))}),[$e]),(0,l.useEffect)((function(){localStorage.setItem("selectedOutputTypes",JSON.stringify(xt))}),[xt]),(0,l.useEffect)((function(){var e=new Set(Ft.filter((function(e){return"ManualInput"!==e.id})).map((function(e){return e.id})));J((function(t){var r=wn({},t);return Object.keys(r).forEach((function(t){"ManualInput"===t||e.has(t)||delete r[t]})),r})),console.log("outputMap: "+JSON.stringify(Z))}),[C]),(0,l.useEffect)((function(){var e=function(){var e=_n(yn().mark((function e(){var t,r,n,o,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),0!==k){e.next=5;break}t={id:"ManualInput",content:b},e.next=16;break;case 5:if(!ht){e.next=13;break}if(t=Ft.find((function(e){return e.id===ht}))){e.next=11;break}return x(!1),S(null),e.abrupt("return");case 11:e.next=16;break;case 13:return x(!1),S(null),e.abrupt("return");case 16:if(!(v.length>0)){e.next=29;break}n=null!==w&&w>0?null===(r=Z[t.id])||void 0===r?void 0:r[v[w-1].id]:t.content,o=yn().mark((function e(){var r,o,i,l,u,s,c,f,p,m,d,h,y,g,A;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v[a],o=ye.Y.find((function(e){return e.name==="gto_".concat(r.toolName)})),i=o&&o.is_multi_type_output,e.prev=3,Nt(r,n)){e.next=8;break}return z("UNKNOWN"),e.abrupt("return",1);case 8:if(a>0&&(u=v[a-1],s=ye.Y.find((function(e){return e.name==="gto_".concat(u.toolName)})),s&&s.is_multi_type_output&&xt[u.id]&&"object"===An(n)&&n.hasOwnProperty(xt[u.id])&&(console.log("Using selected output stream ".concat(xt[u.id]," from ").concat(u.toolName," for tool ").concat(r.toolName)),n=n[xt[u.id]])),"object"!==An(n)||Array.isArray(n)){e.next=21;break}l={},ne((function(e){return wn(wn({},e),{},En({},r.id,{info:[],error:[]}))})),c=yn().mark((function e(){var t,n,o,a,i,u,s,c,m,d,h,y,g,v;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sn(p[f],2),n=t[0],o=t[1],e.next=3,Rt(r,o);case 3:if(a=e.sent,i=In(a.stderr),ne((function(e){var t=e[r.id]||{info:[],error:[]};return wn(wn({},e),{},En({},r.id,{info:[].concat(gn(t.info),gn(i.info)),error:[].concat(gn(t.error),gn(i.error))}))})),"object"===An(a)&&a.outputs)for(u=0,s=Object.entries(a.outputs);u<s.length;u++)c=Sn(s[u],2),m=c[0],d=c[1],h="".concat(n,"_").concat(m),l[h]=d;else y=Ae("output.txt",a.stdout),g=n.split(".")[0],v="".concat(g).concat(Yr(y)),l[v]=a.stdout;case 7:case"end":return e.stop()}}),e)})),f=0,p=Object.entries(n);case 14:if(!(f<p.length)){e.next=19;break}return e.delegateYield(c(),"t0",16);case 16:f++,e.next=14;break;case 19:e.next=27;break;case 21:return e.next=23,Rt(r,n);case 23:m=e.sent,d=In(m.stderr),ne((function(e){return wn(wn({},e),{},En({},r.id,{info:d.info,error:d.error}))})),"object"===An(m)&&m.outputs?(l=m.outputs,i&&!xt[r.id]&&(h=Object.keys(m.outputs)).length>0&&(console.log("Setting default output type for ".concat(r.toolName,": ").concat(h[0])),wt((function(e){return wn(wn({},e),{},En({},r.id,h[0]))})))):l=m.stdout;case 27:J((function(e){return wn(wn({},e),{},En({},t.id,wn(wn({},e[t.id]),{},En({},r.id,l))))})),i&&xt[r.id]&&"object"===An(l)?(n=l[xt[r.id]],console.log("Using selected output type ".concat(xt[r.id]," for next tool"))):n=l,y="UNKNOWN","object"===An(l)?i&&xt[r.id]?(g=l[xt[r.id]])&&(y=Ae("output.txt",g),console.log("Detected type for selected output ".concat(xt[r.id],": ").concat(y))):(A=Object.values(l)[0])&&(y=Ae("output.txt",A),console.log("Detected type from first output: ".concat(y))):y=Ae("output.txt",l),r.id===v[v.length-1].id&&Q!==y&&(z(y),Tt("Data type updated to ".concat(y),"info")),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(3),console.error("Failed to update data type for tool ".concat(r.toolName,":"),e.t1);case 37:case"end":return e.stop()}}),e,null,[[3,34]])})),a=null!==w&&w>0?w:0;case 20:if(!(a<v.length)){e.next=27;break}return e.delegateYield(o(),"t0",22);case 22:if(!e.t0){e.next=24;break}return e.abrupt("break",27);case 24:a++,e.next=20;break;case 27:e.next=30;break;case 29:Q!==B&&(z(B),Tt("Data type updated to ".concat(B),"info"));case 30:x(!1),S(null);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();st?ct(!1):e()}),[v,b,ht,B,xt]),(0,l.useEffect)((function(){v.forEach((function(e){Nt(e)}))}),[v]),(0,l.useEffect)((function(){v.forEach((function(e){ue[e.toolName]||It(e.toolName)}))}),[v]),(0,l.useEffect)((function(){if(ve&&v.length>0){var e=Rr(v,b,B,Ot,fe,Tt,be,!0,it,k,C);we(e)}else we("")}),[ve,v,b,B,Z]),(0,l.useEffect)((function(){if(Ft.length>0&&1===k){var e=Ft.some((function(e){return e.id===ht}));ht&&e||yt(Ft[0].id)}else 0===k&&yt("")}),[Ft,k]);var It=function(){var e=_n(yn().mark((function e(t){var r,n,o,a,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:return r=e.sent,e.next=6,r("",["-h"]);case 6:(n=e.sent).stderr?console.error("Error in ".concat(t," help message: ").concat(n.stderr)):(o=n.stdout.split("\n"),a={},i="",o.forEach((function(e){if(e=e.trim(),/^-/.test(e)){var t=hn(e.split(/\s+/)),r=t[0],n=t.slice(1),o=r.replace(/[, ]/g,"").trim();a[o]=n.join(" ")}else e.includes("--help")||e.toLowerCase().includes("optional")||e.toLowerCase().includes("optional options")||(i+="".concat(e,"\n"))})),se((function(e){return wn(wn({},e),{},En({},t,{general:i.trim(),flags:a}))}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to load help message for ".concat(t,": ").concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),kt=function(e,t){var r=ye.Y.find((function(t){return"gto_".concat(e[0].toolName)===t.name})),n=r.input.format.split(",").map((function(e){return e.trim()}));if(""!==n[0]&&"UNKNOWN"!==t&&!n.includes(t))return!1;for(var o,a=function(t){var r=ye.Y.find((function(r){return"gto_".concat(e[t].toolName)===r.name})),n=ye.Y.find((function(r){return"gto_".concat(e[t+1].toolName)===r.name}));if(!r||!n)return{v:!1};var o=r.output.format.split(",").map((function(e){return e.trim()})),a=n.input.format.split(",").map((function(e){return e.trim()}));return o.some((function(e){return a.includes(e)}))?void 0:{v:!1}},i=0;i<e.length-1;i++)if(o=a(i))return o.v;return!0},Nt=function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.toolName)})),r={};if(t.flags.forEach((function(n){var o=n.required,a=!!e.params[n.flag],i=e.params[n.parameter],l=t.parameters.find((function(e){return e.name===n.parameter}));if(l){if(o||a)if("integer"!==l.type||/^-?\d+$/.test(i))if("float"!==l.type||/^-?\d+(\.\d+)?$/.test(i))if(void 0===i||""===i)r[n.parameter]="Parameter value cannot be empty";else{var u=parseFloat(i);void 0!==l.min&&u<l.min&&(r[n.parameter]="Value must be at least ".concat(l.min)),void 0!==l.max&&u>l.max&&(r[n.parameter]="Value must be at most ".concat(l.max)),void 0!==l.maxLength&&i.length>l.maxLength&&(r[n.parameter]="Maximum input length is ".concat(l.maxLength))}else r[n.parameter]="Invalid float value";else r[n.parameter]="Invalid integer value"}else!o||void 0!==i&&""!==i||(r[n.flag]="Required flag cannot be empty")})),"brute_force_string"===e.toolName){var n=e.params.alphabet,o=e.params.size;n&&o&&Math.pow(n.length,o)>25e4&&(Tt("The number of possible combinations is too high. Please reduce the alphabet or the size.","error"),t.flags.forEach((function(e){r[e.parameter]="Number of combinations is too high"})))}return ie((function(t){return wn(wn({},t),{},En({},e.id,r))})),Object.keys(r).length>0&&Tt("Please correct the parameters highlighted in red.","error"),0===Object.keys(r).length},Dt=function(){var e=_n(yn().mark((function e(t){var r,n,o,a,i,l,u,s,c,f,p,m,d,h,y,g,b,_,x,w,E,S,T,O;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ct(!0),0!==(r=v.filter((function(e){return e.id!==t}))).length){e.next=13;break}ne({}),J({}),se({}),z(B),ie({}),wt({}),A(r),Tt("All operations removed. Data type reset to input type.","info"),e.next=81;break;case 13:if(o=v.findIndex((function(e){return e.id===t})),a=0===o&&""===(null===(n=ye.Y.find((function(e){return"gto_".concat(v[o].toolName)===e.name})))||void 0===n||null===(n=n.input)||void 0===n?void 0:n.type),!kt(r,B)||a){e.next=77;break}ne((function(e){var r=wn({},e);return delete r[t],r})),J((function(e){var r=wn({},e);return Object.keys(r).forEach((function(e){var n;null!==(n=r[e])&&void 0!==n&&n[t]&&delete r[e][t]})),r})),wt((function(e){var r=wn({},e);return r.hasOwnProperty(t)&&delete r[t],r})),i=Ft,l=v[o-1],u=dn(i),e.prev=22,c=yn().mark((function e(){var t,n,a,i,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.value,a=l?null===(t=Z[n.id])||void 0===t?void 0:t[l.id]:n.content,i=yn().mark((function e(){var t,o,i,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r[u],e.next=3,Rt(t,a);case 3:o=e.sent,i=In(o.stderr),ne((function(e){return wn(wn({},e),{},En({},t.id,{info:i.info,error:i.error}))})),l="object"===An(o)&&o.outputs?o.outputs:o.stdout,a=l,J((function(e){return wn(wn({},e),{},En({},n.id,wn(wn({},e[n.id]),{},En({},t.id,l))))}));case 9:case"end":return e.stop()}}),e)})),u=o;case 4:if(!(u<r.length)){e.next=9;break}return e.delegateYield(i(),"t0",6);case 6:u++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})),u.s();case 25:if((s=u.n()).done){e.next=29;break}return e.delegateYield(c(),"t0",27);case 27:e.next=25;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(22),u.e(e.t1);case 34:return e.prev=34,u.f(),e.finish(34);case 37:if(se((function(e){var t=wn({},e);return delete t[v[o].toolName],t})),o!==r.length){e.next=73;break}if(p=r[r.length-1],m=null,d=ye.Y.find((function(e){return e.name==="gto_".concat(p.toolName)})),h=d&&d.is_multi_type_output,null===(f=Z.ManualInput)||void 0===f||!f[p.id]){e.next=48;break}"object"===An(g=null===(y=Z.ManualInput)||void 0===y?void 0:y[p.id])?h&&xt[p.id]?(b=g[xt[p.id]])&&(m=Ae("output.txt",b),console.log("Using selected output type ".concat(xt[p.id]," for data type detection"))):(_=Object.values(g)[0])&&(m=Ae("output.txt",_)):m=Ae("output.txt",g),e.next=72;break;case 48:e.t2=yn().keys(Z);case 49:if((e.t3=e.t2()).done){e.next=72;break}if(x=e.t3.value,null===(w=Z[x])||void 0===w||!w[p.id]){e.next=70;break}if("object"!==An(S=null===(E=Z[x])||void 0===E?void 0:E[p.id])){e.next=68;break}if(!h||!xt[p.id]){e.next=62;break}if(!(T=S[xt[p.id]])){e.next=60;break}return m=Ae("output.txt",T),console.log("Using selected output type ".concat(xt[p.id]," for data type detection")),e.abrupt("break",72);case 60:e.next=66;break;case 62:if(!(O=Object.values(S)[0])){e.next=66;break}return m=Ae("output.txt",O),e.abrupt("break",72);case 66:e.next=70;break;case 68:return m=Ae("output.txt",S),e.abrupt("break",72);case 70:e.next=49;break;case 72:m&&Q!==m&&(z(m),Tt("Data type updated to ".concat(m),"info"));case 73:ie((function(e){var r=wn({},e);return delete r[t],r})),A(r),e.next=81;break;case 77:ct(!1),Tt("Invalid operation: resulting workflow has incompatible steps.","error"),V((function(e){return[].concat(gn(e),[t])})),setTimeout((function(){V((function(e){return e.filter((function(e){return e!==t}))}))}),3e3);case 81:case"end":return e.stop()}}),e,null,[[22,31,34,37]])})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=_n(yn().mark((function e(t,r,n){var o,a,i,l,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.findIndex((function(e){return e.id===t})),S(o),a=n,!(n instanceof File)){e.next=12;break}return e.next=6,ze(n,Et,Tt);case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return");case 9:a=i.name,l={name:i.name,data:i.content},bt((function(e){return wn(wn({},e),{},En({},t,wn(wn({},e[t]),{},En({},r,l))))}));case 12:u=v.map((function(e){return e.id===t?wn(wn({},e),{},{params:wn(wn({},e.params),{},En({},r,a))}):e})),A(u),Nt(u[o]);case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Rt=function(){var e=_n(yn().mark((function e(t,r){var n,o,a,i,l,u,s,c,f,p,m;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t.toolName);case 3:if(n=e.sent,o=ye.Y.find((function(e){return e.name==="gto_".concat(t.toolName)})),o){e.next=8;break}throw Tt("Configuration for tool ".concat(t.toolName," not found."),"error"),new Error("Configuration for tool ".concat(t.toolName," not found."));case 8:if(!Wr(t)){e.next=12;break}return e.next=11,Qr(t,r,v,Z,xt,k,ht,n);case 11:return e.abrupt("return",e.sent);case 12:if(a=[],t.params&&Object.keys(t.params).length>0&&o.flags.forEach((function(e){(e.required||t.params[e.flag])&&(a.push(e.flag),e.parameter&&void 0!==t.params[e.parameter]&&""!==t.params[e.parameter]&&a.push("".concat(t.params[e.parameter])))})),"object"!==An(r)||Array.isArray(r)){e.next=30;break}i={},l=0,u=Object.entries(r);case 17:if(!(l<u.length)){e.next=27;break}return s=Sn(u[l],2),c=s[0],null==(f=s[1])&&mn("content"),e.next=22,n(f,a);case 22:p=e.sent,i[c]=p;case 24:l++,e.next=17;break;case 27:return e.abrupt("return",i);case 30:if(null==r&&(r=""),!(""===r&&At[t.id]&&Object.keys(At[t.id]).length>0)){e.next=37;break}return e.next=34,n(At[t.id],a);case 34:m=e.sent,e.next=40;break;case 37:return e.next=39,n(r,a);case 39:m=e.sent;case 40:return e.abrupt("return",m);case 41:e.next=47;break;case 43:throw e.prev=43,e.t0=e.catch(0),console.error("Failed to execute tool ".concat(t.toolName,":"),e.t0),e.t0;case 47:case"end":return e.stop()}}),e,null,[[0,43]])})));return function(t,r){return e.apply(this,arguments)}}(),Ut=function(){var e=_n(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ke[t.id]){e.next=3;break}return Ze((function(e){return wn(wn({},e),{},En({},t.id,!1))})),e.abrupt("return");case 3:Ze((function(e){return wn(wn({},e),{},En({},t.id,!0))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=_n(yn().mark((function e(t){var r,n,o,a,i,l,u,s,c,f,p,m,d,h,y,g,A,_,x,w,E,S,T,O,F,I,N,j,q,P,G,D,M,R,U,$,z,Q,B,W,L,Y,X,H,V,K,Z,J,ee,te,re,ne,oe,ae;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0!==t?t:v.length-1,n=0===k?[{id:"ManualInput",content:b}]:Array.from(C),o={},a=dn(n),e.prev=4,a.s();case 6:if((i=a.n()).done){e.next=46;break}l=i.value,u=l.content,s=0;case 10:if(!(s<=r&&s<v.length)){e.next=44;break}if(c=v[s],e.prev=12,"object"!==An(u)||Array.isArray(u)){e.next=28;break}f={},p=0,m=Object.entries(u);case 16:if(!(p<m.length)){e.next=25;break}return d=Sn(m[p],2),h=d[0],y=d[1],e.next=20,Rt(c,y);case 20:if("object"===An(g=e.sent)&&g.outputs)for(A=0,_=Object.entries(g.outputs);A<_.length;A++)x=Sn(_[A],2),w=x[0],E=x[1],S="".concat(h,"_").concat(w),f[S]=E;else T=Ae("output.txt",g.stdout),O=h.split(".")[0],F="".concat(O).concat(Yr(T)),f[F]=g.stdout;case 22:p++,e.next=16;break;case 25:u=f,e.next=34;break;case 28:return e.next=30,Rt(c,u);case 30:I=e.sent,void 0,N="object"===An(I)&&I.outputs?I.outputs:I.stdout,u=N;case 34:s===r&&(o[l.id]=u),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(12),console.error("Failed to process input ".concat(l.id," with tool ").concat(c.toolName,":"),e.t0),Tt("Error processing ".concat(l.id),"error");case 41:s++,e.next=10;break;case 44:e.next=6;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(4),a.e(e.t1);case 51:return e.prev=51,a.f(),e.finish(51);case 54:if(1===Object.keys(o).length)if(j=Object.keys(o)[0],"object"===An(q=o[j])){for(P=new(Oe()),G=0,D=Object.entries(q);G<D.length;G++)M=Sn(D[G],2),R=M[0],U=M[1],P.file(R,U);P.generateAsync({type:"blob"}).then((function(e){(0,Se.saveAs)(e,"outputs.zip")}))}else $=new Blob([q],{type:"text/plain;charset=utf-8"}),z=URL.createObjectURL($),Q=document.createElement("a"),B=Ae("output.txt",q),W=Yr(B),Q.download="output".concat(W),Q.href=z,Q.click(),URL.revokeObjectURL(z);else{for(L=new(Oe()),Y=0,X=Object.entries(o);Y<X.length;Y++)if(H=Sn(X[Y],2),V=H[0],"object"===An(K=H[1]))for(Z=L.folder(V),J=0,ee=Object.entries(K);J<ee.length;J++)te=Sn(ee[J],2),re=te[0],ne=te[1],Z.file(re,ne);else oe=Ae("output.txt",K),ae=Yr(oe),L.file("".concat(V,"_output").concat(ae),K);L.generateAsync({type:"blob"}).then((function(e){(0,Se.saveAs)(e,"outputs.zip")}))}case 55:case"end":return e.stop()}}),e,null,[[4,48,51,54],[12,37]])})));return function(t){return e.apply(this,arguments)}}(),zt=function(e){Le((function(t){return wn(wn({},t),{},En({},e,!t[e]))}))},Qt=function(e,t){He((function(r){return wn(wn({},r),{},En({},"".concat(e,"_").concat(t),!r["".concat(e,"_").concat(t)]))}))},Bt=function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.toolName)}));if(!t)return null;var r=ae[e.id]||{},n=(ue[e.toolName]||{general:"Loading help...",flags:{}}).flags||{},o=t.flags.filter((function(e){return e.required&&"-h"!==e.flag})),a=t.flags.filter((function(e){return!e.required&&"-h"!==e.flag})),i=t.parameters,u=t.is_multi_type_output&&(null==Ot?void 0:Ot[e.id]);return l.createElement(h.A,{sx:{marginTop:2}},u&&l.createElement(l.Fragment,null,function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.toolName)}));if(!t||!t.is_multi_type_output)return null;var r=null==Ot?void 0:Ot[e.id];if(!r||"object"!==An(r))return console.log("No output available for ".concat(e.toolName," or output is not an object")),l.createElement(h.A,{sx:{marginTop:2,backgroundColor:"rgba(255, 235, 205, 0.5)",padding:2,borderRadius:1,border:"1px solid rgba(255, 152, 0, 0.3)"}},l.createElement(E.A,{variant:"body2",color:"warning.main"},"No output data available yet. Run the tool to see output options."));var n=[];try{n=r.outputs&&"object"===An(r.outputs)?Object.keys(r.outputs):Object.keys(r)}catch(t){console.error("Error getting output types for ".concat(e.toolName,":"),t),n=[]}if(0===n.length)return console.log("No output types available for ".concat(e.toolName)),l.createElement(h.A,{sx:{marginTop:2,backgroundColor:"rgba(255, 235, 205, 0.5)",padding:2,borderRadius:1,border:"1px solid rgba(255, 152, 0, 0.3)"}},l.createElement(E.A,{variant:"body2",color:"warning.main"},"No output streams available. There might be an issue with the tool execution."));var o=xt[e.id]||n[0];return console.log("Selected output type for ".concat(e.toolName,": ").concat(o)),l.createElement(h.A,{sx:{marginTop:2,backgroundColor:"rgba(173, 216, 230, 0.2)",padding:2,borderRadius:1,border:"1px solid rgba(173, 216, 230, 0.5)"}},l.createElement(E.A,{variant:"subtitle2",gutterBottom:!0,sx:{color:"primary.main",display:"flex",alignItems:"center"}},"Select Output Stream for Next Steps",l.createElement(g.A,{title:"This tool produces multiple types of outputs (streams). You need to select which one to use for the next steps in your workflow.",arrow:!0,placement:"right"},l.createElement(he.A,{size:"small",sx:{ml:.5,p:0}},l.createElement(je.A,{fontSize:"small"})))),l.createElement(Ee.A,{fullWidth:!0,size:"small",sx:{mt:1}},l.createElement(jr.A,{id:"output-type-select-".concat(e.id)},"Output Stream"),l.createElement(me.A,{labelId:"output-type-select-".concat(e.id),value:o,onChange:function(t){return function(e,t){console.log("Selecting output type ".concat(t," for tool ").concat(e)),wt((function(r){return wn(wn({},r),{},En({},e,t))}));var r=v.findIndex((function(t){return t.id===e}));r>=0&&S(r)}(e.id,t.target.value)},label:"Output Stream"},n.map((function(e){return l.createElement(de.A,{key:e,value:e},e)})))))}(e),l.createElement(R.A,{sx:{my:2}})),o.length>0&&l.createElement(h.A,null,l.createElement(E.A,{variant:"subtitle2",sx:{marginBottom:1,color:"text.secondary"}},"Required Flags"),o.map((function(t){e.params[t.flag];var o=i.find((function(e){return e.name===t.parameter})),a=e.params[t.parameter]||"";return r[t.parameter],l.createElement(h.A,{key:t.flag,sx:{display:"flex",alignItems:"center",marginBottom:1,gap:2}},l.createElement(Pe.A,{control:l.createElement("span",null),label:l.createElement(g.A,{title:n[t.flag]||"Loading help message...",arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:300,whiteSpace:"pre-wrap"}}}},l.createElement("span",null,t.parameter," ",l.createElement("span",{style:{color:"red"}},"*"))),sx:{alignItems:"center",margin:0}}),o&&("file"===o.type?l.createElement(l.Fragment,null,l.createElement(y.A,{variant:"outlined",component:"label",size:"small"},a?"Change File":"Upload File",l.createElement("input",{type:"file",hidden:!0,onChange:function(r){return Mt(e.id,t.parameter,r.target.files[0])}})),a&&l.createElement(E.A,{variant:"caption",sx:{ml:1}},a.name||a)):l.createElement(q.A,{value:a,onChange:function(r){return Mt(e.id,t.parameter,r.target.value)},size:"small",label:o.type,error:!!r[t.parameter],helperText:r[t.parameter],type:"integer"===o.type||"float"===o.type?"number":"text",inputProps:"integer"===o.type||"float"===o.type?{step:"any"}:{},sx:{flexGrow:1}})))}))),a.length>0&&l.createElement(h.A,{sx:{marginTop:2}},l.createElement(h.A,{sx:{display:"flex",alignItems:"center",cursor:"pointer",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"},padding:"4px 8px",borderRadius:"4px"},onClick:function(){return t=e.id,void Qe((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(gn(e),[t])}));var t}},l.createElement(E.A,{variant:"subtitle2",sx:{marginBottom:1,color:"text.secondary",flexGrow:1}},"Optional Flags"),$e.includes(e.id)?l.createElement(Fr.A,{fontSize:"small"}):l.createElement(dt.A,{fontSize:"small"})),l.createElement(M.A,{in:$e.includes(e.id)||ae[e.id]&&Object.keys(ae[e.id]).length>0,timeout:"auto",unmountOnExit:!0},a.map((function(t){var o=i.find((function(e){return e.name===t.parameter})),a=!!e.params[t.flag],u=e.params[t.parameter]||"";return r[t.parameter],l.createElement(h.A,{key:t.flag,sx:{display:"flex",alignItems:"center",marginBottom:1,gap:2}},l.createElement(Pe.A,{control:l.createElement(Ge.A,{checked:a,onChange:function(r){return Mt(e.id,t.flag,r.target.checked)}}),label:l.createElement(g.A,{title:n[t.flag]||"Loading help message...",arrow:!0,componentsProps:{tooltip:{sx:{maxWidth:300,whiteSpace:"pre-wrap"}}}},l.createElement("span",null,t.parameter)),sx:{alignItems:"center",margin:0}}),o&&a&&("file"===o.type?l.createElement(l.Fragment,null,l.createElement(y.A,{variant:"outlined",component:"label",size:"small"},u?"Change File":"Upload File",l.createElement("input",{type:"file",hidden:!0,onChange:function(r){return Mt(e.id,t.parameter,r.target.files[0])}})),u&&l.createElement(E.A,{variant:"caption",sx:{ml:1}},u.name||u)):l.createElement(q.A,{value:u,onChange:function(r){return Mt(e.id,t.parameter,r.target.value)},size:"small",label:o.type,error:!!r[t.parameter],helperText:r[t.parameter],type:"integer"===o.type||"float"===o.type?"number":"text",inputProps:"integer"===o.type||"float"===o.type?{step:"any"}:{},sx:{flexGrow:1}})))})))))};return l.createElement(j.A,{elevation:3,sx:{padding:2,height:"100%",display:"flex",flexDirection:"column",position:"relative"}},1===k&&0===C.size&&l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"90%",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:10,pointerEvents:"all",display:"flex",justifyContent:"center",alignItems:"center"}},l.createElement(E.A,{variant:"body1",color:"text.secondary"},"Please select at least one file to work with")),l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}},l.createElement(E.A,{variant:"h6",gutterBottom:!0},"Workflow"),l.createElement(E.A,{variant:"body2",color:"textSecondary",sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",textAlign:"center"}},"Current Data Type: ",Q),1===k&&l.createElement(me.A,{value:ht,onChange:function(e){return yt(e.target.value)},size:"small",sx:{minWidth:150},displayEmpty:!0},l.createElement(de.A,{value:"",disabled:!0},"Inputs"),Ft.map((function(e){var t;if(e.name&&e.name.length>20){var r=e.name.substring(0,10),n=e.name.substring(e.name.length-7);t="".concat(r,"...").concat(n)}else t=e.name||e.id;return l.createElement(de.A,{key:e.id,value:e.id,title:e.name||e.id},t)})))),l.createElement(h.A,{sx:{flexGrow:1,overflowY:"auto"}},l.createElement(Ne.Mp,{sensors:Ct,collisionDetection:Ne.fp,onDragStart:function(e){U(e.active.id)},onDragEnd:function(e){var t=e.active,r=e.over;if(t&&r&&t.id!==r.id){var n=v.findIndex((function(e){return e.id===t.id})),o=v.findIndex((function(e){return e.id===r.id})),a=(0,Or.be)(v,n,o);if(kt(a,B))A(a);else{Tt("Invalid operation: resulting workflow has incompatible steps.","error");var i=t.id;V((function(e){return[].concat(gn(e),[i])})),setTimeout((function(){V((function(e){return e.filter((function(e){return e!==i}))}))}),3e3)}}U(null)}},l.createElement(Or.gB,{items:v.map((function(e){return e.id})),strategy:Or._G},v.map((function(e,t){var r,n;return l.createElement(l.Fragment,{key:e.id},l.createElement(pn,{id:e.id,toolName:e.toolName,onDelete:function(){return Dt(e.id)},onDeleteFromHere:function(){return function(e){ct(!0);var t=v.findIndex((function(t){return t.id===e}));if(-1!==t){var r=v.slice(0,t);if(0===r.length)ne({}),J({}),se({}),z(B),ie({}),wt({}),A(r),Tt("All operations removed. Data type reset to input type.","info");else{var n,o={},a=function(e){o[e]={},r.forEach((function(t){var r;null!==(r=Z[e])&&void 0!==r&&r[t.id]&&(o[e][t.id]=Z[e][t.id])}))};for(var i in Z)a(i);J(o);var l={};r.forEach((function(e){l[e.id]=te[e.id]})),ne(l);var u={};r.forEach((function(e){u[e.toolName]=ue[e.toolName]})),se(u);var s=r[r.length-1],c=null,f=ye.Y.find((function(e){return e.name==="gto_".concat(s.toolName)})),p=f&&f.is_multi_type_output;if(null!==(n=Z.ManualInput)&&void 0!==n&&n[s.id]){var m,d=null===(m=Z.ManualInput)||void 0===m?void 0:m[s.id];if("object"===An(d))if(p&&xt[s.id]){var h=d[xt[s.id]];h&&(c=Ae("output.txt",h),console.log("Using selected output type ".concat(xt[s.id]," for data type detection")))}else{var y=Object.values(d)[0];y&&(c=Ae("output.txt",y))}else c=Ae("output.txt",d)}else for(var g in Z){var b;if(null!==(b=Z[g])&&void 0!==b&&b[s.id]){var _,x=null===(_=Z[g])||void 0===_?void 0:_[s.id];if("object"!==An(x)){c=Ae("output.txt",x);break}if(p&&xt[s.id]){var w=x[xt[s.id]];if(w){c=Ae("output.txt",w),console.log("Using selected output type ".concat(xt[s.id]," for data type detection"));break}}else{var E=Object.values(x)[0];if(E){c=Ae("output.txt",E);break}}}}c&&Q!==c&&(z(c),Tt("Data type updated to ".concat(c),"info")),ie((function(e){var t={};return r.forEach((function(r){t[r.id]=e[r.id]})),t})),wt((function(e){var t={};return r.forEach((function(r){e[r.id]&&(t[r.id]=e[r.id])})),t})),A(r)}}}(e.id)},isInvalid:X.includes(e.id),helpMessage:null===(r=ue[e.toolName])||void 0===r?void 0:r.general,workflowLength:v.length,onPartialSave:function(){return $t(t)},toolMessageMap:te[e.id]},Bt(e),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",marginTop:1}},l.createElement(g.A,{title:v.slice(0,t+1).some((function(e){return ae[e.id]&&Object.keys(ae[e.id]).length>0}))?l.createElement(E.A,{align:"center",variant:"body2"},"View output option is unavailable due to errors in the workflow."):""},l.createElement("span",null,l.createElement(y.A,{variant:"contained",color:"primary",size:"small",onClick:function(){return Ut(e)},startIcon:Ke[e.id]?l.createElement(Cr.A,null):l.createElement(gt.A,null),disabled:v.slice(0,t+1).some((function(e){return ae[e.id]&&Object.keys(ae[e.id]).length>0}))},Ke[e.id]?"Hide":"View")))),(null==Ot?void 0:Ot[e.id])&&Ke[e.id]&&!v.slice(0,t).some((function(e){return ae[e.id]&&Object.keys(ae[e.id]).length>0}))&&l.createElement(h.A,{sx:{marginTop:1}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement(E.A,{variant:"subtitle2"},"object"===An(null==Ot?void 0:Ot[e.id])?"Outputs:":"Output:"),l.createElement(y.A,{size:"small",onClick:function(){return zt(e.id)}},We[e.id]?"object"===An(null==Ot?void 0:Ot[e.id])?"Collapse all":"Collapse":"object"===An(null==Ot?void 0:Ot[e.id])?"Expand all":"Expand")),l.createElement(M.A,{in:We[e.id],timeout:"auto",unmountOnExit:!0},"object"===An(null==Ot?void 0:Ot[e.id])?l.createElement(h.A,{sx:{maxHeight:"200px",overflowY:"auto"}},Object.entries(null==Ot?void 0:Ot[e.id]).map((function(t){var r=Sn(t,2),n=r[0],o=r[1];return l.createElement(h.A,{key:n,sx:{marginTop:1}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement(E.A,{variant:"subtitle2"},n,":"),l.createElement(y.A,{size:"small",onClick:function(){return Qt(e.id,n)}},Xe["".concat(e.id,"_").concat(n)]?"Collapse":"Expand")),l.createElement(M.A,{in:Xe["".concat(e.id,"_").concat(n)],timeout:"auto",unmountOnExit:!0},l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},null==o?void 0:o.replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01")))),!Xe["".concat(e.id,"_").concat(n)]&&l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},o.length>50?"".concat(o.slice(0,90).replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01"),"..."):null==o?void 0:o.replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01"))))}))):l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},null==Ot||null===(n=Ot[e.id])||void 0===n?void 0:n.replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01")))),!We[e.id]&&l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},null!=Ot&&Ot[e.id]?"object"===An(null==Ot?void 0:Ot[e.id])?"Multiple output files available: ".concat(Object.keys(null==Ot?void 0:Ot[e.id]).join(", ")):(null==Ot?void 0:Ot[e.id].length)>50?"".concat(null==Ot?void 0:Ot[e.id].slice(0,90).replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01"),"..."):null==Ot?void 0:Ot[e.id].replace(/\x00/g,"\\x00").replace(/\x01/g,"\\x01"):"No output available yet")))),l.createElement(h.A,{sx:{position:"relative"}},Object.values(ae).some((function(e){return Object.keys(e).length>0}))&&l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:10,pointerEvents:"all",display:"flex",justifyContent:"center",alignItems:"center"}}),t<v.length-1&&l.createElement(h.A,{sx:{height:"10px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",transition:"all 0.3s ease","&:hover":{height:"40px","& .action-buttons":{opacity:1,pointerEvents:"all"}}}},l.createElement(h.A,{className:"action-buttons",sx:{display:"flex",justifyContent:"center",alignItems:"center",opacity:0,pointerEvents:"none",transition:"opacity 0.3s ease"}},l.createElement(g.A,{title:"Add Tool"},l.createElement(y.A,{color:"primary",onClick:function(){return function(e){var t,r,n,o=v[e];n=Ae("output.txt",0===k?null===(t=Z.ManualInput)||void 0===t?void 0:t[o.id]:null===(r=Z[ht])||void 0===r?void 0:r[o.id]);var a=v[e+1],i=ye.Y.find((function(e){return e.name==="gto_".concat(a.toolName)})),l=i.input.format.split(",").map((function(e){return e.trim()})),u=ye.Y.filter((function(e){var t=e.input.format.split(",").map((function(e){return e.trim()})),r=e.output.format.split(",").map((function(e){return e.trim()}));return t.includes(n)&&r.some((function(e){return l.includes(e)}))}));T(!0),O(u),S(e+1)}(t)},sx:{minWidth:"32px",minHeight:"32px",opacity:.8}},l.createElement(pr.A,{sx:{fontSize:"24px"}}))),l.createElement(g.A,{title:"Export Previous Steps"},l.createElement(y.A,{color:"primary",onClick:function(){return lt(t),void be(!0)},sx:{minWidth:"32px",minHeight:"32px",opacity:.8}},l.createElement(Ir.A,{sx:{fontSize:"24px"}})))))))}))),l.createElement(Ne.Hd,null,D?l.createElement(pn,{id:D,toolName:v.find((function(e){return e.id===D})).toolName,onDelete:function(){},isDragging:!0}):null))),l.createElement(R.A,null),v.length>0&&l.createElement(h.A,{sx:{marginTop:1}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}},l.createElement(E.A,{variant:"h6",sx:{paddingBottom:2}},"object"===An(null==Ot?void 0:Ot[null===(t=v[v.length-1])||void 0===t?void 0:t.id])?"Outputs":"Output"),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1,position:"absolute",bottom:0,right:0}},l.createElement(g.A,{title:"Save Output"},l.createElement(he.A,{color:"primary",onClick:function(){return $t(v.length-1)}},l.createElement(kr.A,null))),l.createElement(y.A,{size:"small",onClick:function(){return zt("OutputBox")}},We.OutputBox?"object"===An(null==Ot?void 0:Ot[null===(r=v[v.length-1])||void 0===r?void 0:r.id])?"Collapse all":"Collapse":"object"===An(null==Ot?void 0:Ot[null===(n=v[v.length-1])||void 0===n?void 0:n.id])?"Expand all":"Expand"))),l.createElement(M.A,{in:We.OutputBox,timeout:"auto",unmountOnExit:!0},l.createElement(h.A,null,null!=Ot&&Ot[null===(o=v[v.length-1])||void 0===o?void 0:o.id]?"object"===An(null==Ot?void 0:Ot[null===(a=v[v.length-1])||void 0===a?void 0:a.id])?l.createElement(h.A,{sx:{maxHeight:"200px",overflowY:"auto"}},Object.entries(null==Ot?void 0:Ot[null===(i=v[v.length-1])||void 0===i?void 0:i.id]).map((function(e){var t=Sn(e,2),r=t[0],n=t[1];return l.createElement(h.A,{key:r,sx:{marginTop:1}},l.createElement(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement(E.A,{variant:"subtitle2"},r,":"),l.createElement(y.A,{size:"small",onClick:function(){return Qt("OutputBox",r)}},Xe["OutputBox_".concat(r)]?"Collapse":"Expand")),l.createElement(M.A,{in:Xe["OutputBox_".concat(r)],timeout:"auto",unmountOnExit:!0},l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},n))),!Xe["OutputBox_".concat(r)]&&l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},n.length>50?"".concat(n.slice(0,90),"..."):n)))}))):l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},null==Ot?void 0:Ot[null===(u=v[v.length-1])||void 0===u?void 0:u.id])):l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},"No output available yet")))),!We.OutputBox&&l.createElement(j.A,{sx:{padding:1,backgroundColor:"#f5f5f5",overflow:"auto",maxHeight:"100px",wordWrap:"break-word"}},l.createElement(E.A,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.800rem"}},null!=Ot&&Ot[null===(s=v[v.length-1])||void 0===s?void 0:s.id]?"object"===An(null==Ot?void 0:Ot[null===(c=v[v.length-1])||void 0===c?void 0:c.id])?"Multiple output files available: ".concat(Object.keys(null==Ot?void 0:Ot[null===(f=v[v.length-1])||void 0===f?void 0:f.id]).join(", ")):(null==Ot?void 0:Ot[null===(p=v[v.length-1])||void 0===p?void 0:p.id].length)>50?"".concat(null==Ot?void 0:Ot[null===(m=v[v.length-1])||void 0===m?void 0:m.id].slice(0,90),"..."):null==Ot?void 0:Ot[null===(d=v[v.length-1])||void 0===d?void 0:d.id]:"No output available yet"))),l.createElement(R.A,{sx:{marginY:2}}),l.createElement(h.A,{sx:{display:"flex",justifyContent:"center",gap:2,position:"relative"}},Object.values(ae).some((function(e){return Object.keys(e).length>0}))||1===k&&0===C.size&&l.createElement(h.A,{sx:{position:"absolute",top:0,left:0,width:1===k&&0===C.size?"50%":"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:10,pointerEvents:"all",display:"flex",justifyContent:"center",alignItems:"center"}}),l.createElement(y.A,{variant:"contained",color:"primary",onClick:function(){v.length>0?(console.log("Exporting workflow:",v),be(!0)):Tt("Workflow is empty. Cannot export.","error")},startIcon:l.createElement(Ir.A,null)},"Export Recipe"),l.createElement(y.A,{variant:"contained",color:"primary",onClick:function(){return Ce(!0)},startIcon:l.createElement(St.A,null)},"Import Recipe")),l.createElement(jt.A,{open:ve,onClose:function(){be(!1),lt(null)},maxWidth:"md",fullWidth:!0},l.createElement(qt.A,null,"Export Workflow"),l.createElement(Pt.A,null,l.createElement(E.A,{variant:"body1",gutterBottom:!0},"Please choose an option to export your workflow:"),l.createElement(E.A,{variant:"subtitle1",gutterBottom:!0},"Copy Command:"),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",marginBottom:2}},l.createElement(q.A,{fullWidth:!0,value:xe,InputProps:{readOnly:!0,sx:{fontSize:"0.875rem"}},variant:"outlined",size:"small",placeholder:"Generate a workflow to see the command here"}),l.createElement(g.A,{title:"Copy to Clipboard"},l.createElement(he.A,{onClick:function(){xe?navigator.clipboard.writeText(xe).then((function(){Tt("Command copied to clipboard!","success")})):Tt("Workflow is empty. Cannot copy command.","error")},color:"primary"},l.createElement(Nr.A,null)))),l.createElement(h.A,{sx:{display:"flex",alignItems:"center",marginTop:2}},l.createElement(E.A,{variant:"subtitle1",gutterBottom:!0},"File Name for Export:"),l.createElement(h.A,{sx:{ml:"auto"}},l.createElement(g.A,{title:l.createElement(h.A,null,l.createElement(E.A,{variant:"body2",gutterBottom:!0},l.createElement("strong",null,"Download Script:")," Exports the workflow as a shell script that can be executed in a terminal to reproduce the workflow."),l.createElement(E.A,{variant:"body2"},l.createElement("strong",null,"Download Config:")," Exports the workflow as a JSON configuration file, useful for sharing or re-importing into the platform.")),arrow:!0},l.createElement(he.A,null,l.createElement(je.A,null))))),l.createElement(q.A,{fullWidth:!0,margin:"dense",label:"File Name",type:"text",value:fe,onChange:function(e){return pe(e.target.value)},sx:{marginBottom:2,fontSize:"0.875rem"},InputProps:{sx:{fontSize:"0.875rem"}},InputLabelProps:{sx:{fontSize:"0.875rem"}}})),l.createElement(Gt.A,null,l.createElement(y.A,{onClick:function(){be(!1),lt(null)},color:"secondary"},"Cancel"),l.createElement(y.A,{onClick:function(){Rr(v,b,B,Ot,fe,Tt,be,!1,it,k,C),lt(null)},color:"primary"},"Download Script"),l.createElement(y.A,{onClick:function(){!function(e,t,r,n,o,a){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(0!==e.length){var s,c=null!==i?e.slice(0,i+1):e;if(1===l&&u&&u.size>0){var f=Array.from(u);s={name:n,created_at:(new Date).toISOString(),workflow:{input:{format:r,files:f},tools:c.map((function(e){return Gr({},e)}))}}}else s={name:n,created_at:(new Date).toISOString(),workflow:{input:{format:r,data:t},tools:c.map((function(e){return Gr({},e)}))}};var p=JSON.stringify(s,null,2),m=new Blob([p],{type:"application/json"}),d=URL.createObjectURL(m),h=document.createElement("a");h.href=d,h.download="".concat(n,".json"),h.click(),URL.revokeObjectURL(d),a(!1)}else o("Cannot export an empty workflow.","error")}(v,b,B,fe,Tt,be,it,k,C),lt(null)},color:"primary"},"Download Config"))),l.createElement(jt.A,{open:Fe,onClose:function(){return Ce(!1)},maxWidth:"md",fullWidth:!0},l.createElement(qt.A,null,"Import Recipe"),l.createElement(Pt.A,null,l.createElement(E.A,{variant:"body1",gutterBottom:!0},"Please choose an option to import your workflow:"),l.createElement(h.A,{sx:{borderBottom:1,borderColor:"divider",marginBottom:2}},l.createElement(pt.A,{value:et,onChange:function(e,t){return tt(t)},"aria-label":"Import options",indicatorColor:"primary",textColor:"primary"},l.createElement(mt.A,{label:"Command",value:"command"}),l.createElement(mt.A,{label:"Config File",value:"file"}))),"command"===et&&l.createElement(h.A,null,l.createElement(q.A,{autoFocus:!0,margin:"dense",label:"Command",type:"text",fullWidth:!0,value:ke,onChange:function(e){return qe(e.target.value)},helperText:Me||"Enter a valid workflow command.",error:!!Me,placeholder:"e.g., ./gto_fasta_complement < input.fa || ./gto_fasta_extract -i 0 -e 4 > output.txt",InputProps:{sx:{fontSize:"0.875rem"}},InputLabelProps:{sx:{fontSize:"0.875rem"}},FormHelperTextProps:{sx:{fontSize:"0.75rem"}}})),"file"===et&&l.createElement(h.A,{sx:{display:"flex",flexDirection:"column",gap:2}},l.createElement(E.A,{variant:"body2",gutterBottom:!0,sx:{fontSize:"0.875rem"}},"Upload a JSON configuration file to import your workflow."),l.createElement(y.A,{variant:"contained",component:"label",startIcon:l.createElement(St.A,null),sx:{alignSelf:"flex-start"}},"Upload File",l.createElement("input",{type:"file",hidden:!0,accept:"application/json",onChange:function(e){return ot(e.target.files[0])}})),nt&&l.createElement(E.A,{variant:"body2",sx:{marginTop:1,fontSize:"0.875rem"}},"Selected file: ",nt.name))),l.createElement(Gt.A,null,l.createElement(y.A,{onClick:function(){return Ce(!1)},color:"secondary"},"Cancel"),l.createElement(y.A,{onClick:function(){"command"===et?function(e,t,r,n,o,a,i,l){try{var u=e.split(/\|\|?/).map((function(e){return e.trim()}));if(0===u.length)throw new Error("Invalid command: No steps found.");var s=null,c=null,f=[];if(u.forEach((function(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(/\s+/)),r=t[0],n=t.slice(1),o=r.replace("./gto_",""),a=ye.Y.find((function(e){return e.name==="gto_".concat(o)}));if(!a)throw new Error('Tool "'.concat(o,'" is not recognized.'));for(var i={},l=function(e){var t=n[e];if(t.startsWith("./"))throw new Error("Invalid argument: Consecutive tool paths detected.");if("<"===t){if(s)throw new Error("Multiple input redirections detected.");if(e++,!n[e])throw new Error('Missing input file after "<".');s=n[e]}else if(">"===t){if(c)throw new Error("Multiple output redirections detected.");if(e++,!n[e])throw new Error('Missing output file after ">".');c=n[e]}else{var r=a.flags.find((function(e){return e.flag===t}));r&&r.parameter&&(e++,i[r.flag]=!0,!n[e]||["<",">","-"].includes(n[e][0])?(i[r.parameter]="",e--):i[r.parameter]=n[e])}u=e},u=0;u<n.length;u++)l(u);var p={id:"".concat(o,"-").concat((0,H.A)()),toolName:o,params:i};f.push(p)})),!s)throw new Error("Workflow must include an input file.");if(!c)throw new Error("Workflow must include an output file.");r(""),n(!1);var p=ye.Y.find((function(e){return"gto_".concat(f[0].toolName)===e.name})),m=p.input.format.split(",").map((function(e){return e.trim()})),d=m[0]||"UNKNOWN";if(!l(f,d))throw new Error("Invalid workflow: Incompatible steps.");for(var h=!0,y=!0,g=0;g<f.length;g++)if(!i(f[g])){h=!1;break}m.includes(o)||(y=!1),h&&y?a("Workflow imported successfully!","success"):a(!h&&y?"Workflow imported with errors. Please correct the invalid parameters":h&&!y?"Workflow imported successfully! Be aware that the input data type may not be compatible with the first tool.":"Workflow imported with errors. Please correct the invalid parameters and the input data type.","warning"),t(f)}catch(e){r(e.message),a("Failed to import workflow: ".concat(e.message),"error")}}(ke,A,Re,Ce,B,Tt,Nt,kt):"file"===et&&nt?function(e,t,r,n,o,a,i,l,u,s){var c=new FileReader,f=function(e,t,r){if(1!==e.length){var n=e.shift(),o=r.find((function(e){return"folder"===e.type&&e.name===n}));o||(o={id:"".concat(n,"-").concat(Date.now()),name:n,type:"folder",children:[]},r.push(o)),f(e,t,o.children)}else r.push(t)};c.onload=function(e){try{var l=JSON.parse(e.target.result);if(!l.workflow||!l.workflow.input||!l.workflow.tools)throw new Error("Invalid configuration file format.");l.workflow&&l.workflow.input&&(t(l.workflow.tools),n(l.workflow.input.format),l.workflow.input.files&&l.workflow.input.files.length>0?function(e,t,r,n,o,a,i){try{r(1);var l=e.map((function(e){return{id:"".concat(e.name,"-").concat(Date.now()),name:e.name,type:"file",fileType:e.fileType,content:e.content,size:e.content.length,lastModified:new Date,relativePath:e.relativePath||e.name}})),u=[];l.forEach((function(e){var t=e.relativePath.includes("/")?e.relativePath.split("/"):[e.name];f(Jr(t),e,u)})),o((function(e){return Kr(Kr({},e),{},{children:[].concat(Jr(e.children||[]),u)})})),a((function(e){return new Set([].concat(Jr(e),Jr(l)))})),i("".concat(l.length," file(s) imported successfully."),"success")}catch(e){console.error("Error processing input files:",e),i("Failed to process input files.","error")}}(l.workflow.input.files,0,i,0,u,s,o):l.workflow.input.data&&r(l.workflow.input.data),o("Workflow imported successfully!","success"),a(!1)),o("Workflow imported successfully!","success"),a(!1)}catch(e){console.error("Error importing workflow:",e),o("Failed to import workflow: ".concat(e.message),"error")}},c.onerror=function(e){console.error("File reading error:",e),o("Failed to read the file.","error")},c.readAsText(e)}(nt,A,_,L,Tt,Ce,N,0,P,I):Tt("Please provide a valid input for import.","error")},color:"primary",disabled:"file"===et&&!nt&&"command"===et&&!ke},"Import"))))};function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function jn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){Gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gn(e,t,r){return(t=function(e){var t=function(e){if("object"!=Nn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||Mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){if(e){if("string"==typeof e)return Rn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rn(e,t):void 0}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Un=function(){var e=Dn((0,l.useState)([]),2),t=e[0],r=e[1],n=Dn((0,l.useState)(""),2),o=n[0],a=n[1],i=Dn((0,l.useState)(!1),2),u=i[0],s=i[1],c=Dn((0,l.useState)(null),2),f=c[0],m=c[1],d=Dn((0,l.useState)(!1),2),y=d[0],g=d[1],v=Dn((0,l.useState)([]),2),A=v[0],b=v[1],_=Dn((0,l.useState)(!1),2),E=_[0],S=_[1],T=Dn((0,l.useState)(new Set),2),O=T[0],F=T[1],C=Dn((0,l.useState)(0),2),I=C[0],k=C[1],N=Dn((0,l.useState)({id:"root",name:"Root",type:"folder",children:[]}),2),j=N[0],q=N[1],P=(0,l.useContext)(W),G=P.inputDataType,D=P.setInputDataType,M=(0,p.A)();(0,st.A)(M.breakpoints.down("sm")),(0,l.useEffect)((function(){var e=localStorage.getItem("workflow"),t=localStorage.getItem("inputData"),n=localStorage.getItem("inputDataType");e&&r(JSON.parse(e)),t&&a(t),n&&D(n),S(!0)}),[]),(0,l.useEffect)((function(){if(E){var e=t.map((function(e){var t=ye.Y.find((function(t){return t.name==="gto_".concat(e.toolName)}));return t&&"file"===t.input.type?Pn(Pn({},e),{},{params:{}}):e}));localStorage.setItem("workflow",JSON.stringify(e))}}),[t,E]),(0,l.useEffect)((function(){localStorage.setItem("inputData",o)}),[o]),(0,l.useEffect)((function(){E&&0==I&&localStorage.setItem("inputDataType",G)}),[G,E]);var R=0===t.length;return l.createElement(cr,null,l.createElement(h.A,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 64px)"}},l.createElement(x.A,{maxWidth:"xl",sx:{flex:1,py:2,display:"flex",flexDirection:"column",overflow:"hidden"}},l.createElement(w.Ay,{container:!0,spacing:2,sx:{flex:1,height:"100%",overflow:"hidden"}},l.createElement(w.Ay,{item:!0,xs:12,md:3.1,sx:{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"auto",height:"100%"}},l.createElement(Tr,{onAddOperation:function(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={id:"".concat(e,"-").concat(Date.now()),toolName:e,params:a};null!==o?(n=jn(t)).splice(o,0,i):(n=[].concat(jn(t),[i]),m(n.length-1)),r(n)},isWorkflowEmpty:R,isLoading:u,setIsLoading:s,insertAtIndex:f,setInsertAtIndex:m,addingATool:y,setAddingATool:g,filteredTools:A,setFilteredTools:b,selectedFiles:O,tabIndex:I,workflow:t})),l.createElement(w.Ay,{item:!0,xs:12,md:5.2,sx:{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"auto",height:"100%"}},l.createElement(kn,{workflow:t,setWorkflow:r,inputData:o,setInputData:a,isLoading:u,setIsLoading:s,insertAtIndex:f,setInsertAtIndex:m,setAddingATool:g,setFilteredTools:b,selectedFiles:O,setSelectedFiles:F,tabIndex:I,setTabIndex:k,tree:j,setTree:q})),l.createElement(w.Ay,{item:!0,xs:12,md:3.7,sx:{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"auto",height:"100%"}},l.createElement(Jt,{tabIndex:I,setTabIndex:k,selectedFiles:O,setSelectedFiles:F,inputData:o,setInputData:a,tree:j,setTree:q}))))))},$n=function(){return l.createElement(s.Kd,{basename:"/gto-wasm-app"},l.createElement(_,null),l.createElement(s.BV,null,l.createElement(s.qh,{path:"/",element:l.createElement(ut,null)}),l.createElement(s.qh,{path:"/workflow",element:l.createElement(Un,null)})))};var zn=(0,a.A)({palette:{mode:"light",primary:{main:"#009688"},secondary:{main:"#ff5722"},background:{default:"#f5f5f5"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}});u.createRoot(document.getElementById("root")).render(l.createElement(l.StrictMode,null,l.createElement(i.A,{theme:zn},l.createElement(ne,null,l.createElement(L,null,l.createElement(vr,null,l.createElement(o.Ay,null),l.createElement($n,null)))))))}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,e=[],a.O=(t,r,n,o)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,n,o]=e[c],l=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](r[u])))?r.splice(u--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(o,i),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[i,l,u]=r,s=0;if(i.some((t=>0!==e[t]))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(u)var c=u(a)}for(t&&t(r);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self.webpackChunkgto_wasm_app=self.webpackChunkgto_wasm_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=a.O(void 0,[599],(()=>a(5024)));i=a.O(i)})();